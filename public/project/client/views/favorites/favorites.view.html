<div ng-controller="FavoritesController">
    <div ng-if="user">
        <h1 class="page-header">Profile</h1>
        <ul class="nav nav-tabs nav-justified">
            <li role="presentation"><a href="#/profile">Profile</a></li>
            <li role="presentation" class="active"><a href="#/favorites">Favorites</a></li>
            <li role="presentation"><a href="#/personal">Personal Stories</a></li>
            <li role="presentation" ng-if="isAdmin"><a href="#/reported">Reported Stories</a></li>
        </ul>

        <div id="teams" class="container">
            <h2>Favourite Teams</h2>

            <div class="table-responsive">
                <table class="table">
                    <thead>
                    <tr>
                        <th class="storycontent th1 width-90">
                            Teams
                        </th>
                        <th class="storycontent th1 width-10">
                            Actions
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat=" team in favorites">
                        <td class="storycontent td1 width-90">
                            <a class="whitefont" href="" ng-click="selectTeam(team)">{{team.name}}</a>
                        </td>
                        <td class="col-nowrap td1 width-10">
                            <a href="" class="btn btn-danger" ng-click="deleteFavorite(team)">
                                <scan class="glyphicon glyphicon-remove"></scan>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div class="error glyphicon glyphicon-remove" ng-if="error">
                    <span>{{error}}</span>
                </div>
            </div>
        </div>

        <div id="stories" class="container">
            <h2>Favourite Stories</h2>

            <div class="table-responsive">
                <table class="table">
                    <thead>
                    <tr>
                        <th class="storycontent th1 width-90">
                            Story
                        </th>
                        -<th class="storycontent th1 width-10">
                            Actions
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat=" story in favoritesStories">
                        <td class="storycontent td1 width-90">
                            <a class="whitefont" href="" ng-click="selectStory(story)">{{story.heading}}</a>
                        </td>

                        <td class="col-nowrap td1 width-10">
                            <a href="" class="btn btn-danger" ng-click="removeFromFavorites(story)">
                                <scan class="glyphicon glyphicon-remove"></scan>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div class="error glyphicon glyphicon-remove" ng-if="error">
                    <span>{{error}}</span>
                </div>
            </div>
        </div>

        <div id="users" class="container">
            <h2>Favourite Users</h2>

            <div class="table-responsive">
                <table class="table">
                    <thead>
                    <tr>
                        <th class="storycontent th1 width-90">
                            User
                        </th>
                        <th class="storycontent th1 width-10">
                            Actions
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat=" user in favoritesUsers">
                        <td class="storycontent td1 width-90">
                            <a class="whitefont" href="" ng-click="selectUser(user)">{{user.firstName}} {{user.lastName}}</a>
                        </td>
                        <td class="col-nowrap td1 width-10">
                            <a href="" class="btn btn-danger" ng-click="unfollowUser(user)">
                                <scan class="glyphicon glyphicon-remove"></scan>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div class="error glyphicon glyphicon-remove" ng-if="error">
                    <span>{{error}}</span>
                </div>
            </div>
        </div>

        <div class="error glyphicon glyphicon-remove" ng-if="error">
            <span>{{error}}</span>
        </div>
    </div>
    <div ng-if="!user">
        <h2>
            You are not logged in right now. To see your profile, please <a href="#/login">login</a>
        </h2>
    </div>
</div>