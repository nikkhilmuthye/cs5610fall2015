(function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var GenericModel,HR,ref;return GenericModel=function(superClass){function GenericModel(){return GenericModel.__super__.constructor.apply(this,arguments)}return extend(GenericModel,superClass),GenericModel.prototype.initialize=function(data,options){return null==options&&(options={}),this.on("error",function(model,xhr,opts){var response;return response=xhr&&xhr.responseText?JSON.parse(xhr.responseText):{message:""},(_.isUndefined(opts.disableThrobber)||opts.disableThrobber!==!0)&&(HR.util&&HR.util.ajaxmsg&&(opts.suppressMessage?HR.util.ajaxmsg("",!1,!0,0):HR.util.ajaxmsg(response.message,!1,!0,1e4)),HR.loadingButton)?HR.util.inlineLoadingEnd(response):void 0}),GenericModel.__super__.initialize.call(this,data,options)},GenericModel.prototype.persist=function(field,value,options){var ajax_options,data;return null==options&&(options={}),ajax_options={url:this.url(),type:"PUT"},field instanceof FormData?(data=field,options=value,ajax_options.cache=!1,ajax_options.contentType=!1,ajax_options.processData=!1):(data={},data[field]=value),ajax_options.data=data,ajax_options.success=function(_this){return function(data){return options.success?(options.slug_out&&data.model[options.slug_out]?_this.attributes[options.slug_out]=data.model[options.slug_out]:field instanceof FormData||(_this.attributes[field]=value),options.success(data)):void 0}}(this),ajax_options.error=function(){return function(err_msg){return options.error?options.error(err_msg.statusText):void 0}}(this),$.ajax(ajax_options)},GenericModel.prototype.save=function(key,val,options){var opts;return null==options&&(options={}),opts=_.isNull(key)||_.isObject(key)?_.isUndefined(val)?{}:val:options,(_.isUndefined(opts.disableThrobber)||opts.disableThrobber!==!0)&&HR.util&&HR.util.ajaxmsg&&HR.util.ajaxmsg("Loading...",!1,!0,1e3),GenericModel.__super__.save.call(this,key,val,options)},GenericModel.prototype.destroy=function(options){return null==options&&(options={}),(_.isUndefined(options.disableThrobber)||options.disableThrobber!==!0)&&HR.util&&HR.util.ajaxmsg&&HR.util.ajaxmsg("Loading...",!1,!0,1e3),GenericModel.__super__.destroy.call(this,options)},GenericModel.prototype.parse=function(resp,options){var model;return null==options&&(options={}),this.sync_status=!0,(_.isUndefined(options.disableThrobber)||options.disableThrobber!==!0)&&(HR.util&&HR.util.ajaxmsg&&HR.util.ajaxmsg("",!1,!0,0),HR.loadingButton&&HR.util.inlineLoadingEnd(resp)),model=resp&&resp.model?resp.model:resp&&resp.data?resp.data:resp,options&&options.reset===!0&&_.keys(this.attributes).forEach(function(key){return _.isUndefined(model[key])?model[key]=void 0:void 0}),GenericModel.__super__.parse.call(this,model,options)},GenericModel.prototype.fetch=function(options){return null==options&&(options={}),this.trigger("initreset"),(_.isUndefined(options.disableThrobber)||options.disableThrobber!==!0)&&HR.util&&HR.util.ajaxmsg&&HR.util.ajaxmsg("Loading...",!1,!0,1e3),Backbone.Model.prototype.fetch.apply(this,arguments)},GenericModel.prototype.setCaching=function(caching){this.caching=caching},GenericModel}(Backbone.Model),HR=null!=(ref=window.HR)?ref:{},HR.GenericModel=GenericModel})}).call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var GenericCollection,HR,ref;return GenericCollection=function(superClass){function GenericCollection(){return GenericCollection.__super__.constructor.apply(this,arguments)}return extend(GenericCollection,superClass),GenericCollection.prototype.initialize=function(models,options){return null==options&&(options={}),this.sync_status=!1,this.render_once=!1,this.on("error",function(){return function(model,xhr,opts){var response;return response=xhr&&xhr.responseText?JSON.parse(xhr.responseText):{message:""},(_.isUndefined(opts.disableThrobber)||opts.disableThrobber!==!0)&&(HR.util&&HR.util.ajaxmsg&&HR.util.ajaxmsg(response.message,!1,!0,1e3),HR.loadingButton)?HR.util.inlineLoadingEnd(response):void 0}}(this)),GenericCollection.__super__.initialize.call(this,models,options)},GenericCollection.prototype.fetch=function(options){return null==options&&(options={}),this.trigger("initreset"),(_.isUndefined(options.disableThrobber)||options.disableThrobber!==!0)&&HR.util&&HR.util.ajaxmsg&&HR.util.ajaxmsg("Loading...",!1,!0,1e3),Backbone.Collection.prototype.fetch.apply(this,arguments)},GenericCollection.prototype.parse=function(resp,options){return null==options&&(options={}),this.sync_status=!0,this.render_once=!1,resp.metamodel&&(this.metamodel=resp.metamodel),"number"==typeof resp.total&&(this.total=resp.total),"number"==typeof resp.page&&(this.page=resp.page),(_.isUndefined(options.disableThrobber)||options.disableThrobber!==!0)&&(HR.util&&HR.util.ajaxmsg&&HR.util.ajaxmsg("",!1,!0,0),HR.loadingButton&&HR.util.inlineLoadingEnd(resp)),resp.models?resp.models:resp.data?resp.data:void 0},GenericCollection.prototype.setCurrentPage=function(page){this.page=page},GenericCollection.prototype.getCurrentPage=function(){return this.page},GenericCollection.prototype.getTotal=function(){return this.total},GenericCollection}(Backbone.Collection),HR=null!=(ref=window.HR)?ref:{},HR.GenericCollection=GenericCollection})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitCandidateDetailsView,ref;return RecruitCandidateDetailsView=function(superClass){function RecruitCandidateDetailsView(){return RecruitCandidateDetailsView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateDetailsView,superClass),RecruitCandidateDetailsView.prototype.template="recruit/candidate-details",RecruitCandidateDetailsView.prototype.changeAttributesHeapEvent=!1,RecruitCandidateDetailsView.prototype.events={"click .test-submit":"loginAction","blur input.error":"removeError","change input#share-profile":"changeShareProfile","click a.remove-resume":"removeHRResume","change .auto-fill":"sendHeapEvent","click a.change-hacker-profile":"changeHackerProfile"},RecruitCandidateDetailsView.prototype.initialize=function(options){return null==options&&(options={}),this.parent=options.parent,this.model=options.test,this.hacker=HR.hackerProfile,this.shareProfile=options.shareProfile,this.hideEmailForPublicLink()},RecruitCandidateDetailsView.prototype._render=function(){var loader;return loader=HR.appController.templateOnSteroids(this.template,this),loader&&$(this.el).html(loader),this},RecruitCandidateDetailsView.prototype._applyTemplate=function(){var content;return content=this._template({test:this.model.toJSON(),company:HR.company.toJSON(),attempt:HR.candidate.candidateAttemptModel,hacker:this.hacker.toJSON(),hrCandidateLogin:this.shouldShowHackerRankLogin(),shareProfile:this.shareProfile}),$(this.el).html(content),this.postApplyTemplate(),this},RecruitCandidateDetailsView.prototype.postApplyTemplate=function(){return setTimeout(function(_this){return function(){return _this.prefillDetails(),_this.checkHackerEmailFromParams(),_this.shouldShowHackerRankLogin()?HR.util.heapTrack("[HRW][Login with HR] Step 2 rendered",HR&&HR.params&&HR.params.username?{invitedEmail:HR.params.username}:void 0,{testUniqueId:HR.candidate.candidateTestModel.get("unique_id")}):void 0}}(this))},RecruitCandidateDetailsView.prototype.hideEmailForPublicLink=function(){return this.shouldShowHackerRankLogin()&&this.isPublicLink()?(HR.params=HR.params||{},HR.params.hide=!0):void 0},RecruitCandidateDetailsView.prototype.checkHackerEmailFromParams=function(){var email;if(this.shouldShowHackerRankLogin()&&!this.parent.isAuthenticatedEmail()&&HR.params&&HR.params.username)return this.possibleHacker=new HR.Profile,email=HR.params.username,this.possibleHacker.set("email",email),this.possibleHacker.setAction("find_by_email"),this.possibleHacker.fetch()},RecruitCandidateDetailsView.prototype.removeHRResume=function(e){var $container,$currentTarget,$parent;return e.preventDefault(),$currentTarget=$(e.currentTarget),$parent=$(e.currentTarget).parent(),$container=$parent.parent(),$parent.remove(),$container.html("<input type='file' aria-label='Upload your resume' class='with-help wide' name='resume'>"),this.changeAttributesHeapEvent?void 0:this.sendAutoFillChange("resume")},RecruitCandidateDetailsView.prototype.changeShareProfile=function(e){var $currentTarget;return $currentTarget=$(e.currentTarget),this.shareProfile=$currentTarget.prop("checked")},RecruitCandidateDetailsView.prototype.shouldShowHackerRankLogin=function(){return this.parent.shouldShowHackerRankLogin()},RecruitCandidateDetailsView.prototype.isHRCandidateLogin=function(){return this.parent.isHRCandidateLogin()},RecruitCandidateDetailsView.prototype.isPublicLink=function(){return this.parent.isPublicLink()},RecruitCandidateDetailsView.prototype.prefillDetails=function(){return this.shouldShowHackerRankLogin()?(this.parent.isPublicLink()&&this.$("input[name=email]").val(this.hacker.get("email")),this.hacker.get("name")&&this.$("input[name=full_name]").val(this.hacker.get("name")),this.hacker.get("school")&&this.$("input[name=univ]").val(this.hacker.get("school")),this.hacker.get("phone")&&this.$("input[name=phone_number]").val(this.hacker.get("phone")),this.hacker.get("college_major")?this.$("input[name=branch]").val(this.hacker.get("college_major")):void 0):void 0},RecruitCandidateDetailsView.prototype.sendHeapEvent=function(e){var name;return name=$(e.currentTarget).attr("name"),this.changeAttributesHeapEvent?void 0:this.sendAutoFillChange(name)},RecruitCandidateDetailsView.prototype.sendAutoFillChange=function(name){return HR.util.heapTrack("[HRW][Login with HR] Autofill changed",{email:HR.hackerProfile.get("email"),name:name,testUniqueId:HR.candidate.candidateTestModel.get("unique_id")}),this.changeAttributesHeapEvent=!0},RecruitCandidateDetailsView.prototype.shout=function(content){return $("#shouter").text(content)},RecruitCandidateDetailsView.prototype.changeHackerProfile=function(e){return e.preventDefault(),this.setLoading(),$.ajax({url:"/auth/logout",type:"DELETE",success:function(_this){return function(response){return response.status?$.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile=new HR.Profile,_this.destroy(),_this.parent._prefillDetails=!1,_this.parent.setHRLoginSubview(),_this.parent.setSubView()}}):void 0}}(this)}),HR.util.heapTrack("[HRW][Login with HR] Switch Account clicked",HR&&HR.params&&HR.params.username?{invitedEmail:HR.params.username}:void 0,{testUniqueId:HR.candidate.candidateTestModel.get("unique_id")})},RecruitCandidateDetailsView.prototype.setLoading=function(){return $(".sub-view-container").html("<div class='gray-2'><img src='https://d3rpyts3de3lx8.cloudfront.net/hackerrank/hackerrank_spinner_64x64.gif' style='height: 64px; width: 64px; display: inline-block;'/></div>")},RecruitCandidateDetailsView.prototype.loginAction=function(e){var $currentTarget,email,form_data,message,pass,put_data,request_params,that,uniqid;if(this.disableButton("test-submit"),that=this,e.preventDefault(),$currentTarget=$(e.currentTarget),this.resetError(),email=this.$("input[name=username]").val(),pass=this.$("input[name=password]").val(),null==this.model.get("enable_acknowledgement")||"True"===this.model.get("enable_acknowledgement")){if(!this.$("#acknowledge").is(":checked"))return message="You cannot take this test without agreeing to the specified conditions.",this.shout(message),this.enableButton("test-submit"),!this.$("#acknowledge-alert").length>0&&this.$("#login-form").before('<div class="text-center alert error error-message psT" id="acknowledge-alert"> You cannot take this test without agreeing to the specified conditions. </div>'),void 0;this.$("#acknowledge-alert").remove()}return form_data=$("#test-login-form").serializeArray(),put_data={},_.each(form_data,function(item){return"gender"===item.name?("on"===$("input#gender-m:checked").val()&&(put_data.gender="m"),"on"===$("input#gender-f:checked").val()&&(put_data.gender="f")):"password"===item.name&&HR&&HR.params&&HR.params.hide&&HR.params.hide===!0&&HR.params.password?put_data.password=HR.params.password:put_data[item.name]=item.value,"resume"===item.name?(put_data.resume_link=item.value,put_data.resume=null):void 0}),put_data.tauth_key=this.model.auth,$("#acknowledge").is(":checked")&&(put_data.acknowledge="on"),this.isHRCandidateLogin()&&(put_data.hacker_id=this.hacker.get("id"),put_data.share_hacker_profile=this.shareProfile),uniqid=this.model.get("unique_id"),request_params={url:"/recruit/tests/"+uniqid+"/login",data:put_data,dataType:"json",type:"POST",success:function(_this){return function(xhr){var error,i,k,len,localStorageKeys,r;r="string"==typeof xhr?$.parseJSON($(xhr).text()):xhr;try{for(localStorageKeys=$.jStorage.index(),i=0,len=localStorageKeys.length;len>i;i++)k=localStorageKeys[i],k.match(/\d+-[\da-z]+/)&&!k.startsWith(r.model.attempt)&&$.jStorage.deleteKey(k)}catch(error){e=error,console.log(e)}return HR.candidate.candidateTestModel.set(r.model),r.status?(r.model.attempt_done?HR.router.navigate(uniqid+"/redirect",{trigger:!0,replace:!0}):HR.router.navigate(uniqid+"/questions",{trigger:!0,replace:!0}),void 0):(_this.enableButton("test-submit"),that.setError(r.message.title,r.message.body,null,r.message.field_name))}}(this),error:function(_this){return function(xhr){var body,r;return _this.enableButton("test-submit"),$currentTarget.html("Start Challenge"),r="string"==typeof xhr.responseText?$.parseJSON($(xhr.responseText).text()):xhr.responseText,r&&r.message?(body=r.message.body,that.setError(r.message.title,body,r.message.alertclass,r.message.field_name)):0===xhr.readyState&&0===xhr.status?that.setError("Login error",'There was an error trying to reach our server. Please refresh this page and try logging in again. If the problem persists for more than a few minutes please contact us at <a href="mailto:support@hackerrank.com?Subject=Cannot login into test">support@hackerrank.com</a>'):that.setError("Login error","We are unable to start your challenge due to an Internal Application Error. Please refresh this page and try again. If the problem persists for more than a few minutes please contact us at support@hackerrank.com.")}}(this)},$(":file").length>0&&(request_params.iframe=!0,request_params.processData=!1,request_params.data=put_data,request_params.files=$(":file")),$currentTarget.html("Starting Challenge..."),$.ajax(request_params),this},RecruitCandidateDetailsView.prototype.removeError=function(e){return $(e.target).removeClass("error").closest(".error").removeClass("error")},RecruitCandidateDetailsView.prototype.disableButton=function(cssClass){return this.$("button."+cssClass).attr("disabled",!0).addClass("disabled")},RecruitCandidateDetailsView.prototype.enableButton=function(cssClass){return this.$("button."+cssClass).attr("disabled",!1).removeClass("disabled")},RecruitCandidateDetailsView.prototype.resetError=function(){var $err;return $err=this.$("#error-message"),$err.find("header").html(""),$err.find("p").html(""),this.$(".formgroup").removeClass("error").find("[name]").removeClass("error"),$err.hide()},RecruitCandidateDetailsView.prototype.setError=function(title,message,alertclass,field_name){var $err,duration,err_msg,top;return null==alertclass&&(alertclass=null),null==field_name&&(field_name=null),$err=this.$("#error-message"),$err.find("header").html(title),$err.find("p").html(message),err_msg=title+message,this.shout(err_msg),alertclass&&this.$("#error-message").addClass(alertclass),field_name&&this.$("[name="+field_name+"]").addClass("error").closest(".formgroup").addClass("error"),$err.show(),top=$err.position().top,duration=parseInt(top,10)/2,setTimeout(function(){return $("html,body").animate({scrollTop:top},duration)},0)},RecruitCandidateDetailsView}(window.HR.GenericView),HR=null!=(ref=window.HR)?ref:{},HR.RecruitCandidateDetailsView=RecruitCandidateDetailsView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var CandidateProfileView,HR,ref;return CandidateProfileView=function(superClass){function CandidateProfileView(){return CandidateProfileView.__super__.constructor.apply(this,arguments)}return extend(CandidateProfileView,superClass),CandidateProfileView.prototype.template="recruit/candidate-profile",CandidateProfileView.prototype.events={"click #upload-resume-button":"uploadResume","click #import-linkedin-button":"importLinkedin","change #upload-resume-input":"uploadResumeFile"},CandidateProfileView.prototype._render=function(){var content;return content=HR.appController.template(this.template,this),$(this.el).html(content),this},CandidateProfileView.prototype.uploadResume=function(){return this.$("#upload-resume-input").click()},CandidateProfileView.prototype.uploadResumeFile=function(e){var form_data,that,upload_button;return upload_button="#upload-resume-button",$(upload_button).hasClass("disabled")?void 0:($(upload_button).addClass("disabled"),e.currentTarget.files[0]?(form_data=new FormData,form_data.append("resume",e.currentTarget.files[0]),that=this,HR.candidate.candidateAttemptModel.persist(form_data,{success:function(data){return that.$(upload_button).removeClass("disabled"),data.model.resume_url&&HR.candidate.candidateAttemptModel.set("resume_url",data.model.resume_url),that._render()},error:function(){return HR.util.alert({title:"Error",message:"Unknown error. Try again later."}),that.$(upload_button).removeClass("disabled")}})):(this.$(upload_button).removeClass("disabled"),void 0))},CandidateProfileView.prototype.importLinkedin=function(e){var data,h,left,that,top,w;if(!$(e.currentTarget).hasClass("disabled"))return $(e.currentTarget).addClass("disabled"),data=e.data,w=440,h=584,left=screen.width/2-w/2,top=screen.height/2-h/2,_gaq.push(["_trackPageview","/loginpage/linkedin/"]),that=this,window.login_callback=function(){return HR.candidate.candidateAttemptModel.fetch({success:function(){return that._render()}})},setTimeout(function(){return $(e.currentTarget).removeClass("disabled")},3e3),window.open("/hackers/auth/linkedin?display=popup","google_login","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left)},CandidateProfileView}(window.HR.GenericView),HR=null!=(ref=window.HR)?ref:{},HR.CandidateProfileView=CandidateProfileView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1};jQuery(function(){var HR,RecruitCandidateCodingView,RecruitCandidateCompileTestView,RecruitCandidateCompleteView,RecruitCandidateCorrectErrorsView,RecruitCandidateDesignView,RecruitCandidateDiagramView,RecruitCandidateFileUploadView,RecruitCandidateFooterView,RecruitCandidateInstructionsView,RecruitCandidateListView,RecruitCandidateMcqView,RecruitCandidateMultipleFileView,RecruitCandidateProjectView,RecruitCandidateQuestionView,RecruitCandidateRewriteView,RecruitCandidateServerAlertView,RecruitCandidateServerTaskView,RecruitCandidateSideBarView,RecruitCandidateSubjectiveView,RecruitCandidateSudoRankView,RecruitCandidateTestCaseView,RecruitCandidateTopBarView,RecruitCandidateUnscrambleView,ref;return RecruitCandidateInstructionsView=function(superClass){function RecruitCandidateInstructionsView(){return RecruitCandidateInstructionsView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateInstructionsView,superClass),RecruitCandidateInstructionsView.prototype.template="recruit/instructions",RecruitCandidateInstructionsView.prototype.className="candidate-instructions",RecruitCandidateInstructionsView.prototype.initialize=function(options){return this.model=options.model},RecruitCandidateInstructionsView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({instructions:this.model.get("instructions")})),this},RecruitCandidateInstructionsView}(window.HR.GenericView),RecruitCandidateListView=function(superClass){function RecruitCandidateListView(){return RecruitCandidateListView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateListView,superClass),RecruitCandidateListView.prototype.template="recruit/question-list",RecruitCandidateListView.prototype.className="candidate-qlist",RecruitCandidateListView.prototype.MIN_WAIT_FOR_SECTION_CHANGE=15e3,RecruitCandidateListView.prototype.events={"click .test-done":"testDone","click .next-section":"sectionNext","click .js-solvelink":"handleNav"},RecruitCandidateListView.prototype.initialize=function(){return this.model=HR.candidate.candidateAttemptModel,this.tid=HR.candidate.candidateTestModel.get("unique_id"),this.aid=this.model.get("id"),this._subviews=[]},RecruitCandidateListView.prototype.render=function(){var current_section,qi,questions,sections_mapping,serverview,solves,v,val;return questions=this.model.get("questions"),solves=this.model.get("solve_mapping"),sections_mapping=this.model.get("sections_mapping"),current_section=this.model.get("section"),$(this.el).html(HR.appController.template(this.template,this)({section_count:sections_mapping?sections_mapping.length:1,current_section:current_section?current_section:1,footer_copyright:!!HR.candidate.candidateTestModel.get("footer_copyright")})),sections_mapping?(qi=0,_.each(sections_mapping,function(_this){return function(sec,i){var heading,v;return heading=HR.candidate.candidateTestModel.get("show_section_names")?sec.name:null,v=_this.getTable(questions.slice(qi,qi+parseInt(sec.questions)),qi+1,solves,i+1!==current_section,null,heading),_this.$("table.section"+(i+1)).html(v),qi+=parseInt(sec.questions)}}(this)),sections_mapping.length>1&&current_section<sections_mapping.length&&this.$("button.section-finish-"+current_section).removeClass("hidden")):(v=this.getTable(questions,1,solves,!1,HR.candidate.candidateTestModel.get("section_slots_decoded")),this.$("table.section1").html(v)),HR.candidate.candidateTestModel.get("sudorank_test")&&(serverview=new RecruitCandidateServerAlertView,this.assign({".js-server":serverview}),this._subviews.push(serverview)),null===HR.candidate.lastQuestionViewed||HR.candidate.lastQuestionViewed<=1?setTimeout(function(){return function(){return HR.util.scrollToTop()}}(this)):(val=HR.candidate.lastQuestionViewed-1,setTimeout(function(_this){return function(){return _this.$(".qlist-"+val)[0]&&_this.$(".qlist-"+val)[0].scrollIntoView()}}(this),200)),this},RecruitCandidateListView.prototype.getTable=function(questions,start,solves,disabled,section_slots_decoded,heading){var _i,el,group,group_map,i,j,len,n,tid;if(null==disabled&&(disabled=!1),null==section_slots_decoded&&(section_slots_decoded=null),null==heading&&(heading=null),tid=this.tid,i=start,el="",group_map={},_i=1,section_slots_decoded)for(n=j=0,len=section_slots_decoded.length;len>j;n=++j)group=section_slots_decoded[n],group_map[_i]=group.name,_i+=group.questions;return heading&&(el+='<tr role="row" class="section-separator" style="height:20px;"><td width="5%" role="section" class="grey right"><span class="mdR"></span></td><td width="46%">Section: <em>'+heading+'</em></td><td width="12%" role="gridcell" class="fnt-sz-mid"></td><td width="12%" class="fnt-sz-mid"></td><td width="19%" class="right"></td></tr>'),_.each(questions,function(q){var ahref,btnclass,btnstr,s,statusstr;return s="",group_map[i]&&(s+="<tr role='row' class='section-separator' style='height:20px;'><td width='5%' role='gridcell' class='grey right'><span class='mdR'></span></td><td width='46%' role='gridcell'><em>"+group_map[i]+"</em></td><td width='12%' class='fnt-sz-mid' role='gridcell'></td><td width='12%' class='fnt-sz-mid' role='gridcell'></td><td width='19%' class='right' role='gridcell'></td></tr>"),s+=1===i?"<tr class='border qlist-"+i+"' role='row'>":"<tr class='qlist-"+i+"' role='row'>",s+="<td width='5%' class='grey right' aria-label='Question Number' role='gridcell'><span class='mdR'>Q"+i+"</span></td>",s+='<td width="43%" role="gridcell" aria-label="Question Name"><a class="js-solvelink question-name" ',s+=disabled?">":"href='"+tid+"/questions/"+q.unique_id+"'>",s+=q.name?q.name:"<em class='grey' style='font-weight: 500;'>"+_.escape(q.preview)+"..</em>",s+="</a></td>",s+="<td width='17%' class='fnt-sz-mid' aria-label='Type'>"+window.istreet.cfg.hrqn[q.type]+"</td>",ahref=disabled?"":"href='"+tid+"/questions/"+q.unique_id+"'",_.has(solves,q.unique_id)?("sudorank"===q.type?(btnstr="View Task",statusstr="on server",btnclass="btn btn-line"):(btnstr="Modify Submission",statusstr="submitted",btnclass="normal-underline display-inline-block"),s+="<td width='11%' class='fnt-sz-mid' aria-label='Status' role='gridcell'><span class='green customer-green-alternative'>"+statusstr+"</span></td><td width='18%' class='right' role='gridcell' aria-label='Press this button to modify question "+i+"'><a role='button' "+ahref+" class='"+btnclass+" margin-right-15 fnt-sz-mid js-solvelink' style='margin: 9px 11px 9px 0;''>"+btnstr+"</a></td>"):s+="<td width='11%' class='fnt-sz-mid' aria-label='Status' role='gridcell'>not answered</td><td width='18%' class='right' role='gridcell' aria-label='Press this button to solve question "+i+"'><a role='button' "+ahref+" class='btn btn-line margin-right-15 fnt-sz-mid js-solvelink'>Solve Question</a></td>",s+="</tr>",i++,el+=s}),el},RecruitCandidateListView.prototype.handleNav=function(e){var me;return e.preventDefault(),me=this.$(e.currentTarget),me.attr("href")&&!HR.candidate.ongoingQuestionNavigation?(HR.candidate.ongoingQuestionNavigation=!0,setTimeout(function(){return HR.candidate.ongoingQuestionNavigation=!1},1e4),HR.candidate.attemptRefreshNeeded=!0,HR.router.navigate(me.attr("href"),{trigger:!0,replace:!0})):void 0},RecruitCandidateListView.prototype.testDone=function(){return HR.util.confirm({title:"Confirm test close",message:"Once closed, you can no longer view or modify this test.\n\nAre you sure you are done, and want to close the test?",okButtonText:"Yes, close this test.",cancelButtonText:"No, go back.",okCallback:function(){return function(){return HR.candidate.candidateTestModel.setAction("logout"),HR.candidate.pingTimer&&clearInterval(HR.candidate.pingTimer),HR.candidate.candidateTestModel.save({how:"userclick",candidatestate:HR.util.safeStringify(HR.candidate.candidateAttemptModel)},{success:function(m){return window.HR.appView.dirty=!1,HR.router.navigate(m.get("unique_id")+"/redirect",{trigger:!0,replace:!0})}})}}(this)})},RecruitCandidateListView.prototype.sectionNext=function(e){return HR.candidate.sectionClosedAt&&moment().diff(HR.candidate.sectionClosedAt)<this.MIN_WAIT_FOR_SECTION_CHANGE?(HR.util.alert({title:"Too soon",message:"Looks like you just changed sections. Please wait atleast 30 seconds before switching to the next section."}),void 0):HR.util.confirm({title:"Confirm section close",message:"You will not be able to access this section again.<br><br>Are you sure?",okButtonText:"Yes, move to next section.",cancelButtonText:"No, stay.",okCallback:function(_this){return function(){return HR.candidate.candidateAttemptModel.set("section_close",_this.$(e.currentTarget).attr("data-section")),HR.candidate.candidateAttemptModel.save(null,{success:function(){return HR.markSectionChanged(),HR.router.navigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect",{trigger:!0,replace:!0})},error:function(){return HR.router.navigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect",{trigger:!0,replace:!0})}})}}(this)})},RecruitCandidateListView}(window.HR.GenericView),RecruitCandidateQuestionView=function(superClass){function RecruitCandidateQuestionView(){return this.getAnswerToSave=bind(this.getAnswerToSave,this),RecruitCandidateQuestionView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateQuestionView,superClass),RecruitCandidateQuestionView.prototype.template="recruit/question-base",RecruitCandidateQuestionView.prototype.className="question-base",RecruitCandidateQuestionView.prototype.initialize=function(options){return this.model=options.model,this.tid=HR.candidate.candidateTestModel.get("unique_id"),window.HR.appView.dirty=!1,window.HR.Vent.off("view:dirty").on("view:dirty",this.openDirtyModal)},RecruitCandidateQuestionView.prototype.events={"click .ans-submit":"submitAnswer","click input[name=mcqopts]":"candidateAnswerChange","change input:file":"candidateAnswerChange","change input.complete-question":"candidateAnswerChange"},RecruitCandidateQuestionView.prototype.candidateAnswerChange=function(){return window.HR.appView.dirty=!0},RecruitCandidateQuestionView.prototype.getAnswerToSave=function(){var a,qtype;return qtype=this.model.get("type"),_.contains(["code","approx","textAns","design","diagram","android","project","database"],qtype)?this.view?(a={type:qtype,answer:this.view.answer()},a.answer?a:null):null:null},RecruitCandidateQuestionView.prototype.openDirtyModal=function(answer){return HR.util.confirm({message:"You have made some changes, but not submitted them. Are you sure you want to navigate away?",title:"Unsaved changes",okButtonText:"Stay",cancelButtonText:"Navigate away",okCallback:function(){return function(){return answer.promise(),$("a.js-navlink.disabled").removeClass("disabled")}}(this),cancelCallback:function(){return function(){return HR.appView.dirty=!1,answer.resolve()}}(this)})},RecruitCandidateQuestionView.prototype.makeSplitView=function(){var content_height,topbar_height,window_height;if("code"===this.model.get("type"))return topbar_height=65,$("body").css("overflow-y","hidden"),window_height=$(window).height(),content_height=window_height-topbar_height,$("#fullscreen-wrapper").height(content_height).css("margin-top",topbar_height+"px").show(),$("#fullscreen-wrapper .left-sidebar").height(content_height),$("#fullscreen-wrapper .js-left-content").html(this.model.get("question")),$("#fullscreen-wrapper .right-sidebar").height(content_height),$("#fullscreen-wrapper .separator").height(content_height),$("div.separator").dragResize({activeColor:"#AAA",inactiveColor:"#DDD",resize:function(pageX){var document_width,left_sidebar_width,left_sidebar_width_px,right_sidebar_width,right_sidebar_width_px,separator_width;return separator_width=7,document_width=$(window).width(),left_sidebar_width_px=pageX-3,right_sidebar_width_px=document_width-(left_sidebar_width_px+10),left_sidebar_width=100*(left_sidebar_width_px/document_width)+"%",right_sidebar_width=100*(right_sidebar_width_px/document_width)+"%",$("#fullscreen-wrapper .left-sidebar").css("width",left_sidebar_width),$("#fullscreen-wrapper .right-sidebar").css("width",right_sidebar_width)}}),this.view.fullscreen=!0,$(".js-right-content").html(this.view.render().el),setTimeout(function(_this){return function(){return $("#fullscreen-wrapper .ans-submit").on("click",_this.submitAnswer),$("#fullscreen-wrapper .right-sidebar").css("overflow-y","auto"),$("#fullscreen-wrapper #editor").css({height:"92vh",overflow:"hidden"}),$("#fullscreen-wrapper #dllink").addClass("hidden"),$("#fullscreen-wrapper .hr_tour-code-solution").css({height:"calc(100% - 130px)",overflow:"auto"}),$("#fullscreen-wrapper .code-checker").css("height","100%"),$("#fullscreen-wrapper .code-editors").css("max-height","none"),$("#fullscreen-wrapper .code-editors").css("height","90%")}}(this),1e3)},RecruitCandidateQuestionView.prototype.closeSplitView=function(){return $("body").css("overflow-y","visible"),$("#fullscreen-wrapper").unbind().hide(),this.view.fullscreen=!1,this.render()
},RecruitCandidateQuestionView.prototype.submitAnswer=function(e){var a,data,nextpath,request_params;return e.preventDefault(),window.HR.appView.dirty=!1,a={type:this.model.attributes.type,answer:this.view.answer()},a.answer?(this.$(e.currentTarget).html("Submitting.."),this.$(e.currentTarget).attr("disabled","disabled"),data={qid:this.model.get("unique_id"),qtype:this.model.get("type"),answer:a},request_params={url:"/recruit/attempts/"+HR.candidate.candidateAttemptModel.get("id")+"/solves",data:data,dataType:"json",type:"POST",success:function(_this){return function(xhr){var nextpath;return _this.$(e.currentTarget).html("Done, redirecting.."),xhr.error?_this.showError(xhr.error):(nextpath=_this.model.get("nextqid")?_this.tid+"/questions/"+_this.model.get("nextqid"):_this.tid+"/questions",HR.candidate.attemptRefreshNeeded=!0,HR.router.navigate(""+nextpath,{trigger:!0,replace:!0}))}}(this),error:function(_this){return function(xhr){_this.$(e.currentTarget).html("Submit answer & continue"),_this.$(e.currentTarget).removeAttr("disabled");try{return data=JSON.parse(xhr.responseText),data.error?data.show_alert?_this.showAlertError(data.error,data.title,data.ok_text):_this.showError(data.error):data.show_alert?_this.showAlertError():_this.showError()}catch(error1){return _this.showError()}}}(this)},_.contains(["file_upload"],this.model.get("type"))!==!0||_.isString(this.view.answer())||(data={qid:this.model.get("unique_id")},request_params.iframe=!0,request_params.processData=!1,request_params.data=data,request_params.files=this.view.answer()),$.ajax(request_params)):"sudorank"===this.model.get("type")?(nextpath=this.model.get("nextqid")?this.tid+"/questions/"+this.model.get("nextqid"):this.tid+"/questions",HR.candidate.attemptRefreshNeeded=!0,HR.router.navigate(""+nextpath,{trigger:!0,replace:!0})):HR.util.alert({title:"Submit error",message:"Please answer the question before submitting."})},RecruitCandidateQuestionView.prototype.showError=function(err){return null==err&&(err="Unable to process request. (test state changed?)"),HR.util.candidatemsg(err+"<br><br>Click continue to refresh state.<br><br><a href='"+this.tid+"/questions' class='backbone btn'>Continue</a>",!1)},RecruitCandidateQuestionView.prototype.showAlertError=function(err,title,ok_text){return null==err&&(err="Unable to process request. (test state changed?)"),null==title&&(title=""),null==ok_text&&(ok_text="Ok"),HR.util.alert({title:title,message:err,okButtonText:ok_text,okClass:"btn-primary"})},RecruitCandidateQuestionView.prototype._render=function(){var disable_paste,ide_type,ref,show_context_everywhere,viewfound;if(this.question=this.model.attributes,$(this.el).html(HR.appController.template(this.template,this)({tid:this.tid,question:this.question})),viewfound=!0,!this.view)switch(this.question.type){case"code":case"approx":case"database":ide_type=HR.candidate.candidateAttemptModel.get("ide_type"),this.view="codeshellx"===ide_type?new HR.RecruitCandidateCodingCodeshellxView({question:this.question,parent:this}):new HR.RecruitCandidateCodingView({question:this.question,parent:this});break;case"design":this.view=new HR.RecruitCandidateDesignView({question:this.question,model:this.model});break;case"mcq":case"multiple_mcq":this.view=new HR.RecruitCandidateMcqView({question:this.question});break;case"textAns":this.view="codeshellx"===ide_type?new HR.RecruitCandidateSubjectiveCSXView({question:this.question}):new HR.RecruitCandidateSubjectiveView({question:this.question});break;case"complete":this.view=new HR.RecruitCandidateCompleteView({question:this.question});break;case"rewrite":this.view=new HR.RecruitCandidateRewriteView({question:this.question});break;case"unscramble":this.view=new HR.RecruitCandidateUnscrambleView({question:this.question});break;case"correct_errors":this.view=new HR.RecruitCandidateCorrectErrorsView({question:this.question});break;case"file_upload":this.view=new HR.RecruitCandidateFileUploadView({question:this.question});break;case"diagram":this.view=new HR.RecruitCandidateDiagramView({question:this.question});break;case"project":case"android":this.view=new HR.RecruitCandidateProjectView({question:this.question,model:this.model});break;case"task":this.view=new HR.RecruitCandidateServerTaskView({question:this.question,model:this.model});break;case"sudorank":this.view=new HR.RecruitCandidateSudoRankView({model:this.model,parent:this});break;default:viewfound=!1}return this.question.name?this.$(".qtitle").html(""+this.question.name):this.$(".qtitle").html(window.istreet.cfg.hrqn[this.question.type]),this.$(".qtitle").attr("aria-label","Question Title"),"complete"===(ref=this.question.type)||"rewrite"===ref||"unscramble"===ref||"correct_errors"===ref?this.$(".challenge-text").html(this.view.get_problem_statement()):this.$(".challenge-text").html(this.question.question),viewfound?(this.add_subview(this.view),this.$(".qcontent").html(this.view.render().el)):(this.$(".qcontent").html("<center>This question type is not available.</center>"),this.$(".ans-submit").addClass("disabled")),HR.candidate.lastQuestionViewed=this.model.get("qno"),show_context_everywhere=!1,"True"===HR.candidate.candidateTestModel.get("enable_contextmenu")&&(show_context_everywhere=!0),disable_paste=!1,"True"===HR.candidate.candidateTestModel.get("disable_paste")&&(disable_paste=!0),$(document).off("contextmenu cut copy paste"),$(document).on("contextmenu cut copy paste",function(e){var prevent;if(!show_context_everywhere||disable_paste)return prevent=!0,$(e.target).parents("#editor").length&&(prevent=!1),disable_paste&&(prevent=!0),prevent?(e.preventDefault(),HR.util.candidatemsg("Right click and copy/paste are not available in this region.",!1,!0,2)):void 0}),disable_paste&&($(document).off("contextmenu cut copy paste"),$(document).on("contextmenu cut copy paste",function(e){return e.preventDefault(),HR.util.candidatemsg("Cut/copy/paste disabled for this test.",!1,!0,2)})),setTimeout(function(){return HR.util.scrollToTop()},200),this},RecruitCandidateQuestionView}(window.HR.GenericView),RecruitCandidateMultipleFileView=function(superClass){function RecruitCandidateMultipleFileView(){return RecruitCandidateMultipleFileView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateMultipleFileView,superClass),RecruitCandidateMultipleFileView.prototype.confirmUploadFileDialog=function(e){var that;return e.preventDefault(),this.showConfirmUpload()?this.uploadFileDialog():(that=this,HR.util.confirm({title:"Upload Zip File",message:"<p>Uploading a new directory structure will replace the content of your current code Editor. Would you like to continue? </p> <p class='gray-text' style='font-size: 14px;'> <input id='confirm-upload-checkbox' type='checkbox' class='confirm-upload'> <label style='display: inline-block; font-weight: normal;' for='confirm-upload-checkbox'>Skip this alert next time</label> </p>",okButtonText:"Yes",cancelButtonText:"No",okCallback:function(dialog){return that.toggleConfirmUpload(dialog.$body().find("input.confirm-upload").is(":checked")),dialog.destroy(),that.uploadFileDialog()}}))},RecruitCandidateMultipleFileView.prototype.uploadFileDialog=function(){var buttons,dialog,fields,that;return that=this,fields=[{name:"source_file",title:"Source File",type:"file"}],buttons=[{name:"Upload",callback:function(dialog){var btn,files,max_allowed_file_size,upload_url;return max_allowed_file_size=5242880,btn=this,btn.unSetFailedMsg(),files=dialog.$form().find(":file")[0].files,0===files.length?(btn.setFailedMsg("Please Select a file to upload"),void 0):files[0].size>max_allowed_file_size?(btn.setFailedMsg("File size should be < 5MB."),void 0):(upload_url="testing"===that.aid?that.model.url()+"/upload":that.model.url()+"/upload_filetree",$.ajax({url:upload_url,type:"POST",data:{a:1},dataType:"json",iframe:!0,processData:!0,files:dialog.$form().find(":file"),success:function(response){return 200===response.status?(btn.setSuccessMsg(response.message),$.ajax({url:that.model.url(),data:{refresh_folders:!0},type:"GET",success:function(response){return that.question=response.model,that.initFileTree(),that.render(),dialog.destroy(),window.HR.appView.dirty=!0}})):btn.setFailedMsg(response.message)}}))}}],dialog=new HR.util.ShowFormDialog({title:"Upload Dialog",width:650,enctype:"multipart/form-data",fields:fields,buttons:buttons}),dialog.render()},RecruitCandidateMultipleFileView.prototype.toggleConfirmUpload=function(flag){return $.cookie("code_upload_as_zip",flag===!1)},RecruitCandidateMultipleFileView.prototype.showConfirmUpload=function(){return"false"===$.cookie("code_upload_as_zip")?!0:!1},RecruitCandidateMultipleFileView.prototype.initFileTree=function(){var performAction,that;return that=this,performAction=function(opts){var node_path;return node_path=null,node_path=opts.node_path?opts.node_path:$.jstree.reference("#filetree").get_path(opts.node).join("/"),$.ajax({url:that.model.url()+"/files",type:"POST",data:{node:opts.node,operation:opts.operation,node_path:node_path,new_path:opts.new_name?opts.new_name:void 0,try_question:"testing"===that.aid?"True":void 0},success:opts.success,error:opts.error,complete:opts.complete})},this.multipleFiles={data:this.question.file_tree,onSave:function(node,cb){return node.original&&node.original.permission<4?cb():performAction({node:node,operation:"save",success:function(){return window.HR.appView.dirty=!0},error:function(){return console.log("error")},complete:function(){return cb()}})},fetch:function(treeObj,cb){return performAction({node:treeObj.node,operation:"fetch",success:function(data){return treeObj.node.original.fileContents=data.fileContents},error:function(xhr){var res;return res=$.parseJSON(xhr.responseText),treeObj.node.original.fileContents="<i class='icon--single icon-attention'> </i> "+res.error,treeObj.node.original.permission=3},complete:function(){return cb(treeObj)}})},onCreate:function(node,node_parent,create_callback){var inst,node_parent_path,node_path;return inst=$.jstree.reference("#filetree"),node_parent_path=inst.get_path(node_parent),node_path=node_parent_path?node_parent_path.join("/")+("/"+node.text):""+node.text,performAction({node:node,node_path:node_path,operation:"create",success:function(){return window.HR.appView.dirty=!0},error:function(xhr){return HR.util.candidatemsg($.parseJSON(xhr.responseText).error,!0,!0,1.5),inst.delete_node(node)},complete:function(){return create_callback()}})},onRename:function(node,node_parent,new_name,rename_callback){var old_name;return old_name=node.text,performAction({node:node,operation:"rename",new_name:new_name,success:function(){return window.HR.appView.dirty=!0},error:function(xhr){return HR.util.candidatemsg($.parseJSON(xhr.responseText).error,!0,!0,1.5),node.text=old_name,$.jstree.reference("#filetree").refresh(node)},complete:function(){return rename_callback()}})},onDelete:function(node,node_parent,delete_callback){return performAction({node:node,operation:"delete",success:function(){return delete_callback(),window.HR.appView.dirty=!0},error:function(xhr){return HR.util.candidatemsg($.parseJSON(xhr.responseText).error,!0,!0,1.5),delete_callback(!1)}})}}},RecruitCandidateMultipleFileView}(window.HR.GenericView),RecruitCandidateCodingView=function(superClass){function RecruitCandidateCodingView(){return this.showFaq=bind(this.showFaq,this),this.scrollToStdin=bind(this.scrollToStdin,this),this.closeNotification=bind(this.closeNotification,this),this.init_codemirror_accessibility=bind(this.init_codemirror_accessibility,this),RecruitCandidateCodingView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateCodingView,superClass),RecruitCandidateCodingView.prototype.template="recruit/question-coding",RecruitCandidateCodingView.prototype.className="question-coding",RecruitCandidateCodingView.prototype.init_codemirror_accessibility=function(){var get_current_content,length,shout,shout_current_content;return length=this.$(".CodeMirror").length,length>0?(shout=function(content){var shouter;return shouter=$("#shouter")[0],$(shouter).val(content),this},get_current_content=function(cm){var content,editor;return editor=cm.getInputField(),content=$(editor).val()},shout_current_content=function(_this){return function(cm){return setTimeout(function(){var content;return content=get_current_content(cm),shout(content)},1),_this}}(this),$(".select2-container input").attr("aria-label","Type the language that you want to code in and press enter"),$(".select2-container input").keydown(function(e){var code_lang,code_lang_obj;13===e.which&&(code_lang_obj=$(".select2-container span")[0],code_lang=code_lang_obj.innerText,shout("Current language is "+code_lang))}),$(".CodeMirror").keydown(function(e){var cm,content,cursor;if(cm=this.CodeMirror,content=get_current_content(cm),e.keyCode>=48&&e.keyCode<=90&&""!==content)return shout_current_content(cm);switch(cursor=cm.getCursor(),content=cm.getLine(cursor.line),e.keyCode){case 8:case 37:case 39:case 46:return content=content.substring(0,cursor.ch),shout(content);case 38:case 40:return""===content&&(content="Empty Line"),shout(content);default:return shout_current_content(cm)}})):setTimeout(function(_this){return function(){return _this.init_codemirror_accessibility(),_this}}(this),100),this},RecruitCandidateCodingView.prototype.initialize=function(options){return this.fullscreen=!1,this.codeBeforeSplit=null,this.parent=options.parent,this.question=options.question,this.test=HR.candidate.candidateTestModel||options.test,this.codeshell=null,window.error_marker_widgets=[],HR.candidate&&HR.candidate.candidateAttemptModel?(this.aid=HR.candidate.candidateAttemptModel.get("id"),HR.appView.saveCodeOnNavigate=!0):this.aid="testing",this.autoSaveNamespace=options.disableLocalStorage&&options.disableLocalStorage===!0?null:this.aid+"-"+this.question.unique_id,this.compilingLock=!1,this._subviews=[],this.init_codemirror_accessibility(),this},RecruitCandidateCodingView.prototype.events={"codeshellcompile #editor":"compileAnswer","click #testcase-dl":"testcaseDownload","click .js-close-notification":"closeNotification","click .js-show-faq":"showFaq","show.bs.modal #faq-modal":"scrollToStdin","click #editor a.fullscreen":"makeSplitView","click #editor a.restorefullscreen":"closeSplitView"},RecruitCandidateCodingView.prototype.closeNotification=function(e){var instruction_tip;return e.preventDefault(),this.$("#editor").codeshell("hideNotification"),instruction_tip=$(".js-instruction-link"),instruction_tip.tooltip("show"),setTimeout(function(){return instruction_tip.tooltip("hide")},3e3)},RecruitCandidateCodingView.prototype._render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.question,fullscreen:this.fullscreen})),this.show_template=!0,this.question.hide_template&&"true"===this.question.hide_template.toLowerCase()&&(this.show_template=!1),this.test.get("hide_template")&&"true"===this.test.get("hide_template").toLowerCase()&&(this.show_template=!1),HR.appController.loadCodeMirror(function(_this){return function(){return _this.applyCodeshell(),_this.$("#editor").codeshell("onChange",function(e,change){return"setValue"!==change.origin&&"testing"!==_this.aid?window.HR.appView.dirty=!0:void 0})}}(this),function(){return function(){return HR.util.candidatemsg("Unable to load code editor.<br><br> Check your internet connection, and refresh the page to fix this.",!1)}}(this)),this},RecruitCandidateCodingView.prototype.scrollToStdin=function(){return setTimeout(function(){return this.$("#faq-modal .modal-body .js-content-tabfaq").animate({scrollTop:900})},500)},RecruitCandidateCodingView.prototype.showFaq=function(e){var faq_modal,faq_view;return e.preventDefault(),faq_view=new HR.RecruitInfoView({test:this.test,public_url:!1,subpage:"faq",in_modal:!0,scroll_to:"#stdin"}),this._subviews.push(faq_view),faq_modal=this.$("#faq-modal"),faq_modal.find(".modal-body").html(faq_view.render().el),faq_modal.modal("show")},RecruitCandidateCodingView.prototype.makeSplitView=function(){return this.$("#editor").codeshell("saveLangCode"),this.codeBeforeSplit=this.$("#editor").codeshell("value"),this.parent.makeSplitView(this.$("#editor").codeshell("value"))},RecruitCandidateCodingView.prototype.closeSplitView=function(){return this.$("#editor").codeshell("saveLangCode"),this.codeBeforeSplit=this.$("#editor").codeshell("value"),this.parent.closeSplitView(this.$("#editor").codeshell("value"))},RecruitCandidateCodingView.prototype.testcaseDownload=function(){var url;return url="/recruit/attempts/"+HR.candidate.candidateAttemptModel.id+"/questions/"+this.question.unique_id+"/testcases",HR.util.downloadURL(url)},RecruitCandidateCodingView.prototype.applyCodeshell=function(){var fullsc,opts,show_mode;return fullsc=this.test.get("enable_codefullscreen")&&"True"===this.test.get("enable_codefullscreen")?!0:!1,show_mode=this.test.get("secure")&&"True"===this.test.get("secure")?!1:!0,opts={languages:this.question.languages,defaultLanguage:indexOf.call(this.question.languages,"c")>=0?"c":this.question.languages[0],showFileTree:!1,autoSaveNamespace:this.autoSaveNamespace,lang_template:this.getLangDefaults(),showTemplate:this.show_template,showNonEditableHeadTail:this.show_template,lang_head_template:this.getLangHeads(),lang_tail_template:this.getLangTails(),compile_button_text:"database"===this.question.type?"Run Query":"Run Code",submit_button_text:"Submit code & Continue",showSubmit:!0,showCustomInput:this.showCustomInput(),dynamicMode:!0,enableIntellisense:!0,showFullScreen:fullsc,showMode:show_mode,adminView:!1,loadmode:function(){return function(e,data){return HR.appController.loadCodeMirrorMode(data.lang,function(){return data.callback()})}}(this)},"True"!==this.question.stubs_present?(opts.showNotification=!0,opts.notificationMessage='<div class="common_margin quick_alert clearfix no-padding">\n  <div class="pull-left pmA mjL">\n    <i class="icon-info-circled fnt-sz-big mmR"></i>\n    <a class="backbone js-show-faq" href="">Click here</a> to know how to read from STDIN and write to STDOUT</div>\n  <div class="js-close-notification pull-right pmA mlR close">&times;</div>\n</div>'):opts.showNotification=!1,("True"===this.test.get("hide_compile_test")||"True"===this.question.hide_compile_test)&&(opts.showCompileTest=!1),"testing"===this.aid&&(opts.showSubmit=!1,opts.showCompileTest=!1),opts.showCompileTest!==!1&&(opts.showCompileTest=!0),this.$("#editor").codeshell(opts),this.$("#editor").codeshell("refresh"),this.$("#editor").codeshell("onChange",function(_this){return function(e,change){return _this.deleteMarkersOnSource(e,change)}}(this)),this.set_answer(),this.fullscreen?(this.$("#editor a.fullscreen").addClass("force-hide").removeClass("active-link"),this.$("#editor a.restorefullscreen").removeClass("force-hide").addClass("active-link")):(this.$("#editor a.restorefullscreen").addClass("force-hide").removeClass("active-link"),this.$("#editor a.fullscreen").removeClass("force-hide").addClass("active-link"),this.setPinnedHeader()),setTimeout(function(_this){return function(){return _this.setDefaultText=!0}}(this),3e3)},RecruitCandidateCodingView.prototype.setPinnedHeader=function(){return this.checkPinnedHeader()?(this.parent.$(".js-pinheader").html("<a class='btn js-btnpin' data-pin='True' title='Pin/unpin the Run and Submit code buttons below'><i class='icon--single icon-cancel-small'></i> Unpin code header/footer</a>"),setTimeout(function(){return function(){return HR.util.fixedDiv("questions",".codeshell",[70,window.innerHeight-65],!0,window),$(".codeshell-footer").css("border-top","#bbb 1px solid")}}(this),1e3),$(window).bind("resize",function(_this){return function(){return _this.render()}}(this))):($(window).unbind("scroll"),$(window).unbind("resize"),this.parent.$(".js-pinheader").html("<a class='btn js-btnpin' data-pin='False' title='Pin/unpin the Run and Submit code buttons below'><i class='icon--single icon-pencil'></i> Pin code header/footer</a>")),$(".js-pinheader").live("click",function(_this){return function(e){var noPin;return noPin=e.srcElement.attributes["data-pin"].value,"True"===noPin&&$(window).unbind("scroll"),$.jStorage.set("noPin",noPin),_this.render()}}(this))},RecruitCandidateCodingView.prototype.checkPinnedHeader=function(){var pinnedHeader;return"True"===this.test.get("enable_codefixedheader")?(this.parent.$(".js-pinheader").removeClass("hidden"),pinnedHeader=!0,"True"===$.jStorage.get("noPin")&&(pinnedHeader=!1)):pinnedHeader=!1,pinnedHeader},RecruitCandidateCodingView.prototype.getLangDefaults=function(){var j,l,len,m,ref;for(m={},ref=this.question.languages,j=0,len=ref.length;len>j;j++)l=ref[j],this.question[l+"_template"]&&(m[l]=this.question[l+"_template"]);return m},RecruitCandidateCodingView.prototype.getLangHeads=function(){var j,l,len,m,ref;for(m={},ref=this.question.languages,j=0,len=ref.length;len>j;j++)l=ref[j],this.question[l+"_template_head"]&&(m[l]=this.question[l+"_template_head"]);return m},RecruitCandidateCodingView.prototype.getLangTails=function(){var j,l,len,m,ref;for(m={},ref=this.question.languages,j=0,len=ref.length;len>j;j++)l=ref[j],this.question[l+"_template_tail"]&&(m[l]=this.question[l+"_template_tail"]);return m},RecruitCandidateCodingView.prototype.showCustomInput=function(){return _.include(["approx","database"],this.question.type)?!1:this.question.custom_testcase_allowed&&"False"===this.question.custom_testcase_allowed?!1:!0},RecruitCandidateCodingView.prototype.compileAnswer=function(e,data){return data.code&&!$(".bb-compile").hasClass("disabled")?(data.custominput&&(data.customtestcase=!0),$(".bb-compile").addClass("disabled"),this.deleteMarkersOnSource(),HR.candidate.ctmodel=new HR.CandidateCompileTestModel,HR.candidate.ctmodel.setAid(this.aid),HR.candidate.ctmodel.setQid(this.question.unique_id),("database"===this.question.type||"runalltestcases"===e)&&HR.candidate.ctmodel.setAllCases(!0),this.question.has_samples||data.customtestcase||HR.candidate.ctmodel.setAllCases(!0),HR.candidate.ctview=new HR.RecruitCandidateCompileTestView,this.$("#runstatus").html(HR.candidate.ctview.render().el),this.fullscreen?this.$("#runstatus")[0].scrollIntoView():HR.util.scrollToBottom(1e3),HR.candidate.ctmodel.save(data,{success:function(_this){return function(){return HR.candidate.ctview.setStatus("Uploaded. Waiting for results.."),HR.candidate.ctloop=setTimeout(function(){return _this.checkForResult(_this,data,e)},2e3)}}(this),error:function(){return function(tmp,e){var msg;return $(".bb-compile").removeClass("disabled"),HR.candidate.ctmodel=null,e&&e.responseText&&(msg=JSON.parse(e.responseText).error)?HR.candidate.ctview.setStatus("Error when trying to compile and test: "+msg):HR.candidate.ctview.setStatus("Could not compile as server is unreachable, or this session has closed.")}}(this)})):void 0},RecruitCandidateCodingView.prototype.checkForResult=function(that,data,e,liveStatus){return null==liveStatus&&(liveStatus=null),HR.candidate.ctloop?(HR.candidate.ctview.setStatus(liveStatus?liveStatus:"Processing.."),HR.candidate.ctmodel.fetch({success:function(_this){return function(m){var censored_stderr,expected_output,i,input,j,len,msg,output,output_debug,pass,ref,score,st_class,status_msg,stderr,testcase_label,testcase_no;if(0===m.get("status"))return liveStatus=m.get("status_string")?m.get("status_string"):null,HR.candidate.ctloop=setTimeout(function(){return that.checkForResult(that,data,e,liveStatus)},2e3),void 0;if(0!==m.get("status"))if($(".bb-compile").removeClass("disabled"),clearTimeout(HR.candidate.ctloop),HR.candidate.ctloop=null,m.get("result")>0)"database"===_this.question.type?HR.candidate.ctview.setStatus("Runtime Error","red"):HR.candidate.ctview.setStatus("Error.","red"),HR.candidate.ctview.setCompileStatus("Compilation failed.",m.get("compilemessage")),that.addMarkersOnSource(m);else if(null!=m.get("error_code")&&m.get("error_code")>0)HR.candidate.ctview.setStatus("Alert","red"),HR.candidate.ctview.setTestMessage("Message :","Looks like something went wrong on our end (error "+m.get("error_code")+").\nPlease try again.");else if(pass=0,m.get("customtestcase"))HR.candidate.ctview.setStatus("Compiled successfully.","orange"),input=m.get("stdin")[0],output=m.get("stdout")[0],output_debug=m.get("stdout_debug")?m.get("stdout_debug")[0]:null,stderr=m.get("stderr")?m.get("stderr")[i]:null,censored_stderr=null!=stderr?stderr:m.get("censored_stderr")?m.get("censored_stderr")[0]:null,m.get("signal")&&0!==m.get("signal")[0]&&m.get("testcase_message")&&m.get("testcase_message")[0]?(msg=m.get("testcase_message"),st_class="red"):(msg="",st_class="green"),HR.candidate.ctview.addTestCase(1,input,output,output_debug,null,msg,censored_stderr,st_class,score);else{for(ref=m.get("testcase_status"),i=j=0,len=ref.length;len>j;i=++j)input=ref[i],output=m.get("stdout")[i],expected_output=m.get("expected_output")[i],output_debug=m.get("stdout_debug")?m.get("stdout_debug")[i]:null,stderr=m.get("stderr")?m.get("stderr")[i]:null,censored_stderr=null!=stderr?stderr:m.get("censored_stderr")?m.get("censored_stderr")[i]:null,msg=m.get("testcase_message")[i],1===m.get("testcase_status")[i]?(st_class="txt-green",pass++):st_class="txt-orange",m.get("score")&&_.isNumber(m.get("score")[i])&&(score=m.get("score")[i]),"database"===_this.question.type?(testcase_no=null,testcase_label="Output <i class='icon-help-circled txt-blue psT psB psL js-tooltip' data-toggle='tooltip' data-placement='right' title='The output from SQL server is shown as one row per line and column values separated by space'></i>\n<span class='pull-right'>Query time: "+Math.round(100*m.get("time")[0])/100+" seconds</span>",st_class="hidden"):(testcase_no=i+1,testcase_label="Your Output"),HR.candidate.ctview.addTestCase(testcase_no,input,output,output_debug,expected_output,msg,censored_stderr,st_class,score,testcase_label);0===m.get("testcase_status").length?(msg="Compiled successfully. There are no test cases for this question.",_this.showCustomInput()&&(msg+=" Please select 'Test against custom input' to run the code with your input."),HR.candidate.ctview.setStatus(msg,"orange")):0===pass?(status_msg="database"===_this.question.type?m.get("signal")&&0!==m.get("signal")[0]&&m.get("testcase_message")&&m.get("testcase_message")[0]?m.get("testcase_message")[0]:"Incorrect Answer":"No test cases passed.",HR.candidate.ctview.setStatus(status_msg,"red")):i>pass?"runalltestcases"===e?HR.candidate.ctview.setStatus("Compiled successfully. "+pass+"/"+i+" test cases passed.","orange"):HR.candidate.ctview.setStatus("Compiled successfully. "+pass+"/"+i+" sample test cases passed.","orange"):"runalltestcases"!==e?(HR.candidate.ctview.setStatus("Compiled successfully. All sample test cases passed!","green"),_this.$(".bb-runall").show(),that.compileAnswer("runalltestcases",data)):(status_msg="database"===_this.question.type?"Correct Answer":"Compiled successfully. All available test cases passed!",HR.candidate.ctview.setStatus(status_msg,"green"))}return HR.util.scrollToBottom(1e3)}}(this),error:function(){return function(){return HR.candidate.ctmodel=null,$(".bb-compile").removeClass("disabled"),HR.candidate.ctview.setStatus("Unable to fetch compile information from server.")}}(this)})):void 0},RecruitCandidateCodingView.prototype.answer=function(){return this.$("#editor").codeshell("value")},RecruitCandidateCodingView.prototype.set_answer=function(){return this.codeBeforeSplit?(this.$("#editor").codeshell("setValue",this.codeBeforeSplit),this.codeBeforeSplit=null):this.question.solve?this.$("#editor").codeshell("setValue",this.question.solve.answer):void 0},RecruitCandidateCodingView.prototype.checkCopyPaste=function(change){var added_text;if(this.setDefaultText&&(added_text=change.text.join(""),added_text!==this.lastAddedText))return this.lastAddedText=added_text,"paste"===change.origin&&added_text.length>100?HR.candidate.secureActivity.add({action:"paste",eid:9,qid:this.question.unique_id,insertTime:new Date}):void 0},RecruitCandidateCodingView.prototype.addMarkersOnSource=function(data){var editor,error_markers,error_message,i,line_number,line_offset,marker_node,markers,total_lines;if(data.get("error_markers")){editor=this.$("#editor").codeshell("getEditor"),error_markers=data.get("error_markers"),total_lines=editor.lineCount(),line_offset=error_markers.head_code_lines,markers=error_markers.markers;for(i in markers)error_message=markers[i].message,line_number=markers[i].line_number,line_number-=line_offset,total_lines>=line_number&&(marker_node=$("<div class='error-marker'><span class='error-marker-icon'>!</span>"+error_message+"</div>"),window.error_marker_widgets.push(editor.addLineWidget(line_number-1,marker_node[0],{above:!0})));return this.$("#editor").codeshell("refresh")}},RecruitCandidateCodingView.prototype.deleteMarkersOnSource=function(e,change){var editor,i;if(e&&change&&HR.candidate&&HR.candidate.candidateAttemptModel&&"True"===HR.candidate.candidateAttemptModel.get("secure")&&this.checkCopyPaste(change),0!==window.error_marker_widgets.length){editor=this.$("#editor").codeshell("getEditor");for(i in window.error_marker_widgets)editor.removeLineWidget(window.error_marker_widgets[i]);return this.$("#editor").codeshell("refresh"),window.error_marker_widgets=[]}},RecruitCandidateCodingView}(window.HR.GenericView),RecruitCandidateProjectView=function(superClass){function RecruitCandidateProjectView(){return this.openApkDownloadModal=bind(this.openApkDownloadModal,this),RecruitCandidateProjectView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateProjectView,superClass),RecruitCandidateProjectView.prototype.template="recruit/question-project",RecruitCandidateProjectView.prototype.className="question-project",RecruitCandidateProjectView.prototype.initialize=function(options){return this.question=options.question,this.test=HR.candidate.candidateTestModel||options.test,this.codeshell=null,this.aid=HR.candidate&&HR.candidate.candidateAttemptModel?HR.candidate.candidateAttemptModel.get("id"):"testing",this.autoSaveNamespace="testing"===this.aid?this.aid+"-"+this.test.id+"-"+this.question.id:this.aid+"-"+this.question.unique_id,this.initFileTree(),this},RecruitCandidateProjectView.prototype.events={"click .js-apk":"openApkDownloadModal","codeshellexecute #editor":"executeCode","codeshellcompile #editor":"runCode","codeshellchanginglanguage #editor":"languageChange","click .upload_file":"confirmUploadFileDialog"},RecruitCandidateProjectView.prototype._render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),this.show_template=!1,HR.appController.loadCodeMirror(function(_this){return function(){return _this.applyCodeshell(),_this.$("#editor").codeshell("onChange",function(e,change){return"setValue"!==change.origin&&"testing"!==_this.aid?window.HR.appView.dirty=!0:void 0})}}(this),function(){return function(){return HR.util.alert({message:"There was an error loading the code editor. Please refresh the page."})}}(this)),this},RecruitCandidateProjectView.prototype.applyCodeshell=function(){var opts,selected_node;return opts={showFileTree:this.multipleFiles,autoSaveNamespace:this.autoSaveNamespace,lang_template:this.getLangDefaults(),compile_button_text:"Build code",submit_button_text:"Submit code & Continue",showSubmit:!0,showCompileTest:!0,showCustomInput:!1,dynamicMode:!0,enableIntellisense:!0,showNonEditableHeadTail:!1,adminView:!1,showNotification:!0,showUploadCode:!this.question.enable_permissions,showDownloadCode:!1,enableLanguageChangeHook:!0,loadmode:function(){return function(e,data){return HR.appController.loadCodeMirrorMode(data.lang,function(){return data.callback()})}}(this)},"testing"===this.aid&&(opts.showSubmit=!1,opts.showCompileTest=!0),opts.showCompileTest!==!1&&(opts.showCompileTest=!0),opts.showDownloadCode=this.question.enable_permissions?!1:"testing"===this.aid?this.model.url()+"/download":this.model.url()+"/download_filetree","project"===this.question.type&&(opts.showExecute=!0,opts.execute_button_text="Execute main()",opts.showCustomInput=!0,opts.compile_button_text="Run Unit Tests"),this.$("#editor").codeshell(opts),this.$("#editor").codeshell("refresh"),this.set_answer(),this.$("#editor").codeshell("setValue",{language:"text",code:"Please select any file from left to start editing."}),this.$("#editor").codeshell("setOption","readOnly",!0),selected_node=void 0,this.question.file_tree.every(function(node_object){return selected_node=node_object,"file"!==node_object.type}),selected_node&&"file"===selected_node.type&&this.$("#filetree").one("loaded.jstree",function(){return $.jstree.reference("#filetree").activate_node(selected_node,"activate_node.jstree")}),this.$(".bb-execute").tooltip({placement:"left",title:"You can debug your code by writing a main() and optionally provide some custom input that will be fed to your program's STDIN",delay:{show:2e3,hide:0}}),setTimeout(function(_this){return function(){return _this.setDefaultText=!0
}}(this),3e3)},RecruitCandidateProjectView.prototype.languageChange=function(e,data){return HR.util.confirm({title:"Are you sure?",message:"Changing the language will only change the syntax highlighting of the content.<br><br>You must upload an appropriate folder structure and file names with correct extensions, and also modify the pom.xml file to ensure the Maven framework works correctly.<br><br>Are you sure you want to change the syntax?",okCallback:function(){return data.yes()},cancelCallback:function(){return data.no()},okClass:"btn-primary"})},RecruitCandidateProjectView.prototype.getLangDefaults=function(){var j,l,len,m,ref;for(m={},ref=this.question.languages,j=0,len=ref.length;len>j;j++)l=ref[j],this.question[l+"_template"]&&(m[l]=this.question[l+"_template"]);return m},RecruitCandidateProjectView.prototype.enableRunCode=function(){return this.$(".bb-execute").removeClass("disabled").removeAttr("disabled"),this.$(".bb-compile").removeClass("disabled").removeAttr("disabled")},RecruitCandidateProjectView.prototype.disableRunCode=function(){return this.$(".bb-execute").tooltip("hide"),this.$(".bb-compile").addClass("disabled").attr("disabled",!0),this.$(".bb-execute").addClass("disabled").attr("disabled",!0)},RecruitCandidateProjectView.prototype.showError=function(error){return HR.candidate.ctview.setStatus(error)},RecruitCandidateProjectView.prototype.sendCompileTestRequest=function(e,data){return this.disableRunCode(),data.multiple_files="true",data.kind="project",data.language="maven",HR.candidate.ctview=new HR.RecruitCandidateCompileTestView,this.$("#runstatus").html(HR.candidate.ctview.render().el),HR.util.scrollToBottom(1e3),"testing"===this.aid?(HR.candidate.ctmodel=new HR.RecruitCompileTestModel,HR.candidate.ctmodel.setTid(this.test.get("id")),HR.candidate.ctmodel.setQid(this.question.id)):(HR.candidate.ctmodel=new HR.CandidateCompileTestModel,HR.candidate.ctmodel.setAid(this.aid),HR.candidate.ctmodel.setQid(this.question.unique_id),HR.candidate.ctmodel.setAllCases(!0)),HR.candidate.ctmodel.save(data,{success:function(_this){return function(){return HR.candidate.ctview.setStatus("Uploaded. Waiting for results.."),HR.candidate.ctloop=setTimeout(function(){return _this.checkForResult(_this,data,e)},2e3)}}(this),error:function(_this){return function(m,xhr){return _this.enableRunCode(),HR.candidate.ctview.setStatus($.parseJSON(xhr.responseText).error,"red")}}(this)})},RecruitCandidateProjectView.prototype.executeCode=function(e,data){var that;return this.$("#runstatus").empty(),"project"===this.question.type&&(data.execution_mode="main"),_.isEmpty(data.custominput)?(that=this,HR.util.confirm({message:"You've not set any custom input for the main(). Are you sure you want to continue?",cancelButtonText:"No, don't execute",okButtonText:"Yes, execute.",cancelCallback:function(){return that.enableRunCode()},okCallback:function(){return that.sendCompileTestRequest(e,data)}})):this.sendCompileTestRequest(e,data)},RecruitCandidateProjectView.prototype.runCode=function(e,data){var that;return this.$("#runstatus").empty(),data={},"project"===this.question.type&&(data.execution_mode="test"),this.$("#customtestcase").attr("checked")?(that=this,HR.util.confirm({message:"Running Unit test will ignore your custom input.",cancelButtonText:"Cancel",okButtonText:"OK, continue",cancelCallback:function(){return that.enableRunCode()},okCallback:function(){return that.sendCompileTestRequest(e,data)}})):this.sendCompileTestRequest(e,data)},RecruitCandidateProjectView.prototype.openApkDownloadModal=function(e){var qr_code_url;return e.preventDefault(),qr_code_url="http://chart.apis.google.com/chart?chs=200x200&amp;cht=qr&amp;chld=|1&amp;chl="+this.apk_link,HR.util.alert({title:"Download APK",okButtonText:"Close",message:"Scan the following QR code from your device to install or click on the download button.\n<img src='"+qr_code_url+"' class='block-center clearfix'/>\n<div class=\" clearfix\">\n  <a href='"+this.apk_link+"' target='_blank' class='btn mmL block-center span-md-6'><i class='icon--single icon-download'></i>Download</a>\n</div>"})},RecruitCandidateProjectView.prototype.checkForResult=function(that,data,e){return HR.candidate.ctloop?(HR.candidate.ctview.setStatus("Processing.."),HR.candidate.ctmodel.fetch({success:function(_this){return function(m){var c,global_status_class,global_status_message,lines_str,lines_total,methods_str,methods_total,pass,stderr,stdout,testcases,testing_label,unit_test_msg;return 0===m.get("status")?(HR.candidate.ctloop=setTimeout(function(){return that.checkForResult(that,data,e)},2e3),void 0):(0!==m.get("status")&&(_this.enableRunCode(),clearTimeout(HR.candidate.ctloop),HR.candidate.ctloop=null,m.get("result")>0?(HR.candidate.ctview.setStatus("Build Failure","red"),HR.candidate.ctview.setTestMessage("Build Message :",m.get("compilemessage"))):null!=m.get("marked_for_rerun")&&m.get("marked_for_rerun")===!0?(HR.candidate.ctview.setStatus("Alert","red"),HR.candidate.ctview.setTestMessage("Message :","Looks like something went wrong on our end.\nPlease try again.")):(pass=0,HR.candidate.ctview.setTestMessage("Build Message :",m.get("compilemessage")),null!=m.get("result")&&0===m.get("result")?(HR.candidate.ctview.setStatus("Build Successful","green"),"android"===_this.question.type?null!=m.get("apk_link")&&(_this.apk_link=m.get("apk_link"),HR.candidate.ctview.setStatus("Build Successful\n<a href='#'' target='_blank' class='btn js-apk pull-right'><i class='icon--single icon-download'></i> Download APK</a>\n<div class=\"clear\"></div>","green")):(m.get("coverage")&&(c=m.get("coverage"),lines_total=c.line_missed+c.line_covered,lines_str="Line Coverage: "+c.line_covered_percent+"% ("+c.line_covered+"/"+lines_total+")",methods_total=c.method_missed+c.method_covered,methods_str="Method Coverage: "+c.method_covered_percent+"% ("+c.method_covered+"/"+methods_total+")",HR.candidate.ctview.setCoverageMessage("Code coverage information",lines_str+"\n"+methods_str)),global_status_message="Build Successful. ",global_status_class="green",null!=m.get("stdout")&&("test"===m.get("execution_mode")?(testcases={passed:0,failed:0,total:0},_.each(m.get("testcase_status"),function(testcase_status){return testcase_status>0?testcases.passed+=1:testcases.failed+=1,testcases.total+=1}),0===testcases.total?(global_status_message+="No unit tests provided.",global_status_class="green"):testcases.passed>0?(unit_test_msg=testcases.passed+"/"+testcases.total,testcases.passed===testcases.total?(unit_test_msg="All",global_status_class="green"):global_status_class=testcases.failed>0?testcases.failed===testcases.total?"red":"orange":"green",global_status_message+=unit_test_msg+" unit tests passed."):(global_status_message+="Unit Testing failure.",global_status_class="red")):m.get("testcase_status")[0]>0?(global_status_message+="Execution Successful.",global_status_class="green"):(global_status_message+="Execution Failure.",global_status_class="red"),HR.candidate.ctview.setStatus(global_status_message,global_status_class),stderr=_.isEmpty(m.get("stderr")[0])?null:m.get("stderr")[0],stdout=_.isEmpty(m.get("stdout")[0])?null:m.get("stdout")[0],testing_label="test"===m.get("execution_mode")?"Unit Testing Message :":"Execution Message :",HR.candidate.ctview.addTestCase(null,null,stdout,stderr,null,null,null,"hidden",null,testing_label)))):HR.candidate.ctview.setStatus("Build Failure","red"))),$("body, html").animate({scrollTop:$("#runstatus").offset().top-200},800))}}(this),error:function(_this){return function(){return HR.candidate.ctmodel=null,_this.enableRunCode(),HR.candidate.ctview.setStatus("Unable to fetch compile information from server.")}}(this)})):void 0},RecruitCandidateProjectView.prototype.answer=function(){return this.$("#editor").codeshell("value",!0)},RecruitCandidateProjectView.prototype.setStatus=function(s,additional_class){return null==additional_class&&(additional_class=""),this.$(".output-area-wrap").removeClass("hidden"),this.$(".status-msg").html(s),""!==additional_class?this.$(".status-msg").addClass(additional_class):void 0},RecruitCandidateProjectView.prototype.set_answer=function(){var m;return!this.multipleFiles&&this.question.solve?(m={},_.each(this.question.solve.answer,function(data){return m[data.language]=data.code}),this.$("#editor").codeshell("setOption","lang_template",m),this.$("#editor").codeshell("setValue",{language:"html",code:m.html})):void 0},RecruitCandidateProjectView.prototype.checkCopyPaste=function(change){var added_text;if(this.setDefaultText&&(added_text=change.text.join(""),added_text!==this.lastAddedText))return this.lastAddedText=added_text,"paste"===change.origin&&added_text.length>100?HR.candidate.secureActivity.add({action:"paste",eid:9,qid:this.question.unique_id,insertTime:new Date}):void 0},RecruitCandidateProjectView}(RecruitCandidateMultipleFileView),RecruitCandidateDesignView=function(superClass){function RecruitCandidateDesignView(){return this.hideLoading=bind(this.hideLoading,this),RecruitCandidateDesignView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateDesignView,superClass),RecruitCandidateDesignView.prototype.template="recruit/question-design",RecruitCandidateDesignView.prototype.className="question-design",RecruitCandidateDesignView.prototype.initialize=function(options){return this.question=options.question,this.test=HR.candidate.candidateTestModel||options.test,this.codeshell=null,this.aid=HR.candidate&&HR.candidate.candidateAttemptModel?HR.candidate.candidateAttemptModel.get("id"):"testing",this.autoSaveNamespace="testing"===this.aid?this.aid+"-"+this.test.id+"-"+this.question.id:this.aid+"-"+this.question.unique_id,"true"===this.question.multiple_files?this.initFileTree():this.multipleFiles=!1,this},RecruitCandidateDesignView.prototype.events={"codeshellcompile #editor":"renderAnswer","click .upload_file":"confirmUploadFileDialog"},RecruitCandidateDesignView.prototype._render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),this.$("#runstatus").load(this.hideLoading),this.show_template=!1,HR.appController.loadCodeMirror(function(_this){return function(){return _this.applyCodeshell(),_this.$("#editor").codeshell("onChange",function(e,change){return"setValue"!==change.origin&&"testing"!==_this.aid&&(window.HR.appView.dirty=!0),e&&change&&HR.candidate&&HR.candidate.candidateAttemptModel&&"True"===HR.candidate.candidateAttemptModel.get("secure")?_this.checkCopyPaste(change):void 0})}}(this),function(){return function(){return HR.util.alert({message:"There was an error loading the code editor. Please refresh the page."})}}(this)),this},RecruitCandidateDesignView.prototype.applyCodeshell=function(){var opts,selected_node,tabs,tabs_tooltip;return opts={showFileTree:this.multipleFiles,autoSaveNamespace:this.autoSaveNamespace,lang_template:this.getLangDefaults(),showUploadCode:!this.question.enable_permissions,compile_button_text:"Render",submit_button_text:"Submit code & Continue",showSubmit:!0,showCustomInput:!1,dynamicMode:!0,enableIntellisense:!0,adminView:!1,loadmode:function(){return function(e,data){return HR.appController.loadCodeMirrorMode(data.lang,function(){return data.callback()})}}(this)},this.multipleFiles?opts.showDownloadCode=this.question.enable_permissions?!1:"testing"===this.aid?this.model.url()+"/download":this.model.url()+"/download_filetree":(opts.languages=this.question.languages,opts.language="html",opts.showNonEditableHeadTail=this.show_template,this.basicDesignQuestion=!0),"testing"===this.aid&&(opts.showSubmit=!1,opts.showCompileTest=!0),opts.showCompileTest!==!1&&(opts.showCompileTest=!0),this.$("#editor").codeshell(opts),this.multipleFiles||(this.$("#select-lang").addClass("hidden"),this.$("#select-lang-tabs").remove(),tabs="<div id='select-lang-tabs'> <div class='pull-left btn-group'>",this.question.languages.forEach(function(v){return tabs+="<a class='cursor btn btn-white "+(v===opts.language?"active":"")+"' data-lang='"+v+"'>"+lang_display_mapping[v]+"</a>"}),tabs+="</div> </div>",tabs_tooltip=$("<span class=' pull-left icon-help-circled txt-blue psT psB psL' data-toggle='tooltip' data-placement='right' title='The tabs on the left help you view the corresponding code segment.'></span>").tooltip(),tabs=$(tabs),tabs.find("a").on({click:function(_this){return function(e){return e.preventDefault(),tabs.find("a").removeClass("active"),_this.$("#editor").codeshell("saveLangCode"),_this.$("#editor").codeshell("changeLanguage",_this.$(e.currentTarget).addClass("active").data("lang"))}}(this)}),this.$("#editor > div.grey-header").prepend(tabs.append(tabs_tooltip))),$("#render-help").remove(),this.$("#editor .bb-compile").parent().prepend($("<span id='render-help' class='pull-left icon-help-circled txt-blue psT psB psR' data-toggle='tooltip' data-placement='left' title='Press \"Render\" Button to view the visual output of your code. Press \"Submit code & Continue\" to submit your answer. '></span>").tooltip()),this.$("#editor").codeshell("refresh"),this.set_answer(),this.multipleFiles&&(this.$("#editor").codeshell("setValue",{language:"text",code:"Please select any file from left to start editing."}),this.$("#editor").codeshell("setOption","readOnly",!0),selected_node=void 0,this.question.file_tree.every(function(node_object){return selected_node=node_object,"file"!==node_object.type}),selected_node&&"file"===selected_node.type&&this.$("#filetree").one("loaded.jstree",function(){return $.jstree.reference("#filetree").activate_node(selected_node,"activate_node.jstree")})),setTimeout(function(_this){return function(){return _this.setDefaultText=!0}}(this),3e3)},RecruitCandidateDesignView.prototype.getLangDefaults=function(){var j,l,len,m,ref;for(m={},ref=this.question.languages,j=0,len=ref.length;len>j;j++)l=ref[j],this.question[l+"_template"]&&(m[l]=this.question[l+"_template"]);return m},RecruitCandidateDesignView.prototype.hideLoading=function(){return this.$(".bb-compile").length?("testing"===this.aid&&(this.question.multiple_files&&"true"===this.question.multiple_files||this.form_elem.remove()),this.setStatus("Document prepared successfully.","green"),this.$(".bb-compile").removeClass("disabled"),this.$("#runstatus-load").addClass("hidden"),this.$("#runstatus").removeClass("hidden")):void 0},RecruitCandidateDesignView.prototype.renderAnswer=function(e,data){var init_url;if(!$(".bb-compile").hasClass("disabled"))return this.$(".bb-compile").addClass("disabled").data("status","sending"),"testing"!==this.aid?(HR.candidate.dtmodel=new HR.CandidateDesignTestModel,HR.candidate.dtmodel.setAid(this.aid),HR.candidate.dtmodel.setQid(this.question.unique_id)):(HR.candidate.dtmodel=new HR.RecruitDesignTestModel,HR.candidate.dtmodel.setQid(this.question.id),HR.candidate.dtmodel.setTid(this.test.id)),this.$("#runstatus").addClass("hidden"),this.$("#runstatus-load").removeClass("hidden"),data=this.answer(),this.setStatus("Preparing the document...","black"),"testing"!==this.aid||"true"===this.question.multiple_files?(init_url=HR.development?window.location.protocol+"//design."+window.location.host:window.location.protocol+"//design.hackerrank.com","testing"===this.aid?(this.setStatus("Loading document.."),this.$("#runstatus").attr("src",""+init_url+HR.candidate.dtmodel.url()+"/testing-"+HR.currentUser.get("id")+"/"+this.test.get("authkey")+"/"),HR.util.scrollToBottom(1e3)):HR.candidate.dtmodel.save(data,{success:function(_this){return function(m){return _this.setStatus("Loading document.."),_this.$("#runstatus").attr("src",""+init_url+m.url()+"/"+m.get("id")),HR.util.scrollToBottom(1e3)}}(this),error:function(_this){return function(){return HR.candidate.dtmodel=null,_this.setStatus("There was an issue with rendering this code.","red")}}(this)})):(this.form_elem=$('<form target="runstatus" action="'+HR.candidate.dtmodel.url()+'" method="post" class="hidden">\n<input type="hidden" name="testing_design" />\n</form>'),this.form_elem.find('input[name="testing_design"]').val(JSON.stringify(data)),this.form_elem.append($('<input type="hidden" name="'+$("meta[name=csrf-param]").attr("content")+'" value="'+$("meta[name=csrf-token]").attr("content")+'" >')),$("body").append(this.form_elem),this.form_elem.submit())},RecruitCandidateDesignView.prototype.answer=function(){return this.$("#editor").codeshell("value",!0)},RecruitCandidateDesignView.prototype.setStatus=function(s,additional_class){return null==additional_class&&(additional_class=""),this.$(".output-area-wrap").removeClass("hidden"),this.$(".status-msg").html(s),""!==additional_class?this.$(".status-msg").addClass(additional_class):void 0},RecruitCandidateDesignView.prototype.set_answer=function(){var m;return!this.multipleFiles&&this.question.solve?(m={},_.each(this.question.solve.answer,function(data){return m[data.language]=data.code}),this.$("#editor").codeshell("setOption","lang_template",m),this.$("#editor").codeshell("setValue",{language:"html",code:m.html})):this.basicDesignQuestion?this.$("#editor").codeshell("changeLanguage","html"):void 0},RecruitCandidateDesignView.prototype.checkCopyPaste=function(change){var added_text;if(this.setDefaultText&&(added_text=change.text.join(""),added_text!==this.lastAddedText))return this.lastAddedText=added_text,"paste"===change.origin&&added_text.length>100?HR.candidate.secureActivity.add({action:"paste",eid:9,qid:this.question.unique_id,insertTime:new Date}):void 0},RecruitCandidateDesignView}(RecruitCandidateMultipleFileView),RecruitCandidateMcqView=function(superClass){function RecruitCandidateMcqView(){return this.setDirty=bind(this.setDirty,this),RecruitCandidateMcqView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateMcqView,superClass),RecruitCandidateMcqView.prototype.template="recruit/question-mcq",RecruitCandidateMcqView.prototype.className="question-mcq",RecruitCandidateMcqView.prototype.events={"click .clearall":"clearAll","click input[name='mcqopts']":"setDirty"},RecruitCandidateMcqView.prototype.setDirty=function(){return HR.candidate.candidateAttemptModel&&"testing"===HR.candidate.candidateAttemptModel.get("id")?window.HR.appView.dirty=!0:void 0},RecruitCandidateMcqView.prototype.initialize=function(options){return this.question=options.question},RecruitCandidateMcqView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),this.set_answer(),this},RecruitCandidateMcqView.prototype.clearAll=function(e){return e.preventDefault(),this.$('input[name="mcqopts"]').attr("checked",!1)},RecruitCandidateMcqView.prototype.answer=function(){var answer,o;return"mcq"===this.question.type?(o=this.$("input[name=mcqopts]:checked").val(),answer=o?o:this.question.solve?-1:null,this.question.explanation_box&&"true"===this.question.explanation_box?{explanation:this.$("textarea[name=explanation]").val(),answer:answer}:answer):(o=[],_.each(this.$("input[name=mcqopts]:checked"),function(_this){return function(e){return o.push(_this.$(e).val())}}(this)),o.length?o:this.question.solve?-1:null)},RecruitCandidateMcqView.prototype.set_answer=function(){var ans,j,len,metadata,ref,results;if(this.question.solve){if("mcq"!==this.question.type){for(ref=this.question.solve.answer.answer,results=[],j=0,len=ref.length;len>j;j++)ans=ref[j],results.push(this.$("input#mcqopts"+ans).prop("checked",!0));return results}return this.$("input#mcqopts"+this.question.solve.answer.answer).prop("checked",!0),this.question.explanation_box&&"true"===this.question.explanation_box&&this.question.solve.metadata?(metadata=JSON.parse(this.question.solve.metadata),this.$("textarea[name=explanation]").val(metadata.explanation)):void 0}},RecruitCandidateMcqView}(window.HR.GenericView),RecruitCandidateSubjectiveView=function(superClass){function RecruitCandidateSubjectiveView(){return RecruitCandidateSubjectiveView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateSubjectiveView,superClass),RecruitCandidateSubjectiveView.prototype.template="recruit/question-subjective",RecruitCandidateSubjectiveView.prototype.className="question-subjective",RecruitCandidateSubjectiveView.prototype.initialize=function(options){return this.question=options.question,HR.candidate&&HR.candidate.candidateAttemptModel?(this.aid=HR.candidate.candidateAttemptModel.get("id"),this.autoSaveNamespace=this.aid+"-"+this.question.unique_id,HR.appView.saveCodeOnNavigate=!0):(this.aid="testing",this.autoSaveNamespace=null)},RecruitCandidateSubjectiveView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),HR.appController.loadCodeMirror(function(_this){return function(){return _this.applyCodeshell(),_this.set_answer(),_this.$("#editor").codeshell("onChange",function(e,change){return"setValue"!==change.origin&&"testing"!==_this.aid?window.HR.appView.dirty=!0:void 0})}}(this)),this},RecruitCandidateSubjectiveView.prototype.applyCodeshell=function(){var opts;return opts={languages:["text"],defaultLanguage:"text",autoSaveNamespace:this.autoSaveNamespace,showSubmit:!1,showCompileTest:!1,dynamicMode:!0,showCustomInput:!1,loadmode:function(){return function(e,data){return data.callback()}}(this)},this.$("#editor").codeshell(opts),this.$("#editor").codeshell("refresh"),this.$("#editor").codeshell("onChange",function(_this){return function(e,change){return e&&change&&HR.candidate&&HR.candidate.candidateAttemptModel&&"True"===HR.candidate.candidateAttemptModel.get("secure")?_this.checkCopyPaste(change):void 0}}(this))},RecruitCandidateSubjectiveView.prototype.checkCopyPaste=function(change){var added_text;return added_text=change.text.join(""),added_text!==this.lastAddedText?(this.lastAddedText=added_text,"paste"===change.origin&&added_text.length>50?HR.candidate.secureActivity.add({action:"paste",eid:9,qid:this.question.unique_id,insertTime:new Date}):void 0):void 0},RecruitCandidateSubjectiveView.prototype.answer=function(){return this.$("#editor").codeshell("value")},RecruitCandidateSubjectiveView.prototype.set_answer=function(){return this.question.solve?this.$("#editor").codeshell("setValue",{code:this.question.solve.answer.answer,language:"text"}):void 0},RecruitCandidateSubjectiveView}(window.HR.GenericView),RecruitCandidateFileUploadView=function(superClass){function RecruitCandidateFileUploadView(){return RecruitCandidateFileUploadView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateFileUploadView,superClass),RecruitCandidateFileUploadView.prototype.template="recruit/question-fileupload",RecruitCandidateFileUploadView.prototype.className="question-fileupload",RecruitCandidateFileUploadView.prototype.initialize=function(options){return this.question=options.question},RecruitCandidateFileUploadView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),this.set_answer(),window.view=this,this},RecruitCandidateFileUploadView.prototype.answer=function(){return $(":file").val()?$(":file"):this.question.solve&&this.question.solve.answer?this.question.solve.answer:!1},RecruitCandidateFileUploadView.prototype.set_answer=function(){return this.question.solve?this.show_answer(this.question.solve):void 0},RecruitCandidateFileUploadView.prototype.show_answer=function(solve){var answer,fileName,html,metadata;return fileName="",answer=solve.answer,solve.metadata&&(metadata=JSON.parse(solve.metadata),metadata.filename&&(fileName=metadata.filename)),html=HR.util.getFileAnchor(answer,fileName),this.$("#current_answer").html(html),this.$(".current-answer-section").removeClass("hidden")},RecruitCandidateFileUploadView}(window.HR.GenericView),RecruitCandidateCompleteView=function(superClass){function RecruitCandidateCompleteView(){return RecruitCandidateCompleteView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateCompleteView,superClass),RecruitCandidateCompleteView.prototype.template="recruit/question-completesentence",RecruitCandidateCompleteView.prototype.className="question-complete",RecruitCandidateCompleteView.prototype.initialize=function(options){return this.question=options.question},RecruitCandidateCompleteView.prototype._render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),this},RecruitCandidateCompleteView.prototype.postrender=function(){return setTimeout(function(_this){return function(){return _this.set_answer()}}(this))},RecruitCandidateCompleteView.prototype.answer=function(){return _.map($('input[name^="blank"]'),function(e){return $(e).val()})},RecruitCandidateCompleteView.prototype.set_answer=function(){var cnt;return this.question.solve?(cnt=0,_.each(this.question.solve.answer,function(v){return $('input[name="blank'+cnt+'"]').val(v),cnt+=1})):void 0},RecruitCandidateCompleteView.prototype.get_problem_statement=function(){var cnt,problem_statement,q;for(q=this.question.complete_string,cnt=0,problem_statement="<h4>Complete the blanks in the following question with the appropriate answer.</h4><br/>",problem_statement+=_.isEmpty(this.question.question)?"":this.question.question;-1!==q.search("{blank}");)q=q.replace("{blank}","<input type='text' autocomplete='off' class='complete-question' name='blank"+cnt+"'/>"),cnt+=1;return problem_statement+=q},RecruitCandidateCompleteView}(window.HR.GenericView),RecruitCandidateRewriteView=function(superClass){function RecruitCandidateRewriteView(){return RecruitCandidateRewriteView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateRewriteView,superClass),RecruitCandidateRewriteView.prototype.get_problem_statement=function(){var cnt,problem_statement,q;for(q=this.question.complete_string,cnt=0,problem_statement="<h4>Complete the following sentences while retaining the meaning of the original sentence.</h4>\n<hr/>\n<small>\n1. You can add new words only if absolutely required.<br/><br/>\n<i>Example: I'm sure you would have got the feedback report from our team.<br/>\nAnswer: Our team would have send the feedback to you I\u2019m sure.</i><br/>\n</small>\n<hr/><br/>",problem_statement+=this.question.question+"<br/>";-1!==q.search("{blank}");)q=q.replace("{blank}","<input type='text' autocomplete='off' class='complete-question' name='blank"+cnt+"'/>"),cnt+=1;return problem_statement+=q},RecruitCandidateRewriteView}(RecruitCandidateCompleteView),RecruitCandidateCorrectErrorsView=function(superClass){function RecruitCandidateCorrectErrorsView(){return RecruitCandidateCorrectErrorsView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateCorrectErrorsView,superClass),RecruitCandidateCorrectErrorsView.prototype.template="recruit/question-correcterrors",RecruitCandidateCorrectErrorsView.prototype.className="question-correcterrors",RecruitCandidateCorrectErrorsView.prototype.initialize=function(options){return this.question=options.question,this.original=this.question.question},RecruitCandidateCorrectErrorsView.prototype._render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.original})),this.set_answer(),this},RecruitCandidateCorrectErrorsView.prototype.set_answer=function(){return this.question.solve&&this.question.solve.answer?this.$("textarea").val(this.question.solve.answer):this.$("textarea").val(this.question.plain_text),this.$("textarea").addClass("xtall resizey")},RecruitCandidateCorrectErrorsView.prototype.answer=function(){return this.$("#answer").val()},RecruitCandidateCorrectErrorsView.prototype.get_problem_statement=function(){return"<h4>Correct the errors by editing the paragraphs given in the text box.</h4>\n<div class=\"clear\"></div>\n<br/>\n<small>\n1. You may need to change word forms (e.g., work vs working) or add function words (e.g., is, can, a, for). <br/>\n2. Do not include or add words if not absolutely required.<br/>\n3. The editing has to be done by you. Do not provide instructions for editing.<br/>\n<br/>\n<em>Example: You can used Facebook as advertising platform with your painting exhibition\n<br/>\nAnswer: Correct Format: You can <strong>use</strong> Facebook as <strong>an</strong> advertising platform <strong>for</strong> your painting exhibition.<br/>\nIncorrect Format: You can <del>used</del> (delete 'used' and include 'use') <strong>use</strong> Facebook as <strong>an</strong> (include \u2018an\u2019) advertising platform <del>with</del> (delete 'with' and include 'for') <strong>for</strong> your painting exhibition.\n</em><br/>\n</small>"},RecruitCandidateCorrectErrorsView}(window.HR.GenericView),RecruitCandidateUnscrambleView=function(superClass){function RecruitCandidateUnscrambleView(){return RecruitCandidateUnscrambleView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateUnscrambleView,superClass),RecruitCandidateUnscrambleView.prototype.className="question-unscramble",RecruitCandidateUnscrambleView.prototype.initialize=function(options){return this.question=options.question,this.original=$("<div>"+this.question.question+"</div>").text()},RecruitCandidateUnscrambleView.prototype.events=function(){return{"keyup textarea":"strikeUsedWords"}},RecruitCandidateUnscrambleView.prototype.set_answer=function(){return this.question.solve&&this.question.solve.answer&&(this.$("textarea").val(this.question.solve.answer),setTimeout(this.strikeUsedWords,100)),this.$("textarea").addClass("tall resizex")},RecruitCandidateUnscrambleView.prototype.strikeUsedWords=function(){var words;return this.$("#ques").html(this.original),words=this.$("textarea").val().replace(/[^a-zA-Z 0-9]+/g,"").toLowerCase().split(" "),_.each(words,function(_this){return function(word){return _this.$("#ques").contents().filter(function(){return 3===this.nodeType&&this.nodeValue.indexOf(word)>=0}).first().replaceWith(function(){var re;return re=new RegExp("\\b"+word+"\\b"),this.nodeValue.replace(re,"<del>"+word+"</del>")})}}(this))},RecruitCandidateUnscrambleView.prototype.get_problem_statement=function(){return'<h4>Rearrange the words in the text box to form grammatical sentences.</h4>\n<div class="clear"></div>\n<br/>\n<small>\n1. Do not delete words or add words not included in the original sentence.\n<br/>\n2. Example: [lamb had a little Mary = Mary had a little lamb.]\n</small>'},RecruitCandidateUnscrambleView}(RecruitCandidateCorrectErrorsView),RecruitCandidateDiagramView=function(superClass){function RecruitCandidateDiagramView(){return this.saveDiagram=bind(this.saveDiagram,this),RecruitCandidateDiagramView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateDiagramView,superClass),RecruitCandidateDiagramView.prototype.template="recruit/question-diagram",RecruitCandidateDiagramView.prototype.className="question-diagram",RecruitCandidateDiagramView.prototype.initialize=function(options){return this.question=options.question,HR.candidate&&HR.candidate.candidateAttemptModel?(this.aid=HR.candidate.candidateAttemptModel.get("id"),this.autoSaveNamespace=this.aid+"-"+this.question.unique_id,HR.appView.saveCodeOnNavigate=!0):(this.aid="testing",this.autoSaveNamespace=null),this.diagramStorageKey=this.autoSaveNamespace+"-"+this.question.hash,HR.appController.loadGraphLibraries(function(_this){return function(){return _this.editor=new Editor}}(this),function(){return console.log("error")})},RecruitCandidateDiagramView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({question:this.question})),HR.appController.loadCodeMirror(function(_this){return function(){return _this.applyCodeshell(),_this.set_answer(),_this.$("#editor").codeshell("onChange",function(e,change){return"setValue"!==change.origin&&"testing"!==_this.aid?window.HR.appView.dirty=!0:void 0})}}(this)),HR.appController.loadGraphLibraries(function(_this){return function(){return _this.initializeDiagramView(),_this.editor.graph.getModel().addListener(mxEvent.CHANGE,function(){return"testing"!==_this.aid?window.HR.appView.dirty=!0:void 0})}}(this),function(){return console.log("error")}),this},RecruitCandidateDiagramView.prototype.initializeDiagramView=function(){var choices;return this.localSubmissionData=$.jStorage.get(this.diagramStorageKey),this.xml="",this.xml=this.localSubmissionData?this.localSubmissionData.xml:null,choices=this.question.custom_draw_menus,this.ui=new EditorUi(this.editor,choices,this.$("#geEditor")[0]),this.xml&&this.ui&&mxGraphFiles.load_xml(this.ui,this.xml),this.ui?setTimeout(this.saveDiagram,3e3):void 0},RecruitCandidateDiagramView.prototype.saveDiagram=function(){return this.saveDiagramTimeout&&($.jStorage.set(this.diagramStorageKey,mxGraphFiles.save(this.ui)),clearTimeout(this.saveDiagramTimeout)),this.saveDiagramTimeout=setTimeout(function(_this){return function(){return _this.saveDiagram()
}}(this),3e3)},RecruitCandidateDiagramView.prototype.applyCodeshell=function(){var opts;return opts={languages:["text"],defaultLanguage:"text",autoSaveNamespace:this.autoSaveNamespace,showSubmit:!1,showCompileTest:!1,dynamicMode:!0,showCustomInput:!1,loadmode:function(){return function(e,data){return data.callback()}}(this)},this.$("#editor").codeshell(opts),this.$("#editor").codeshell("refresh")},RecruitCandidateDiagramView.prototype.answer=function(){var diag;return diag=mxGraphFiles.save(this.ui),{description:this.$("#editor").codeshell("value").code,svg:diag.svg,xml:diag.xml}},RecruitCandidateDiagramView.prototype.set_answer=function(){return this.question.solve?this.$("#editor").codeshell("setValue",{code:this.question.solve.answer.answer,language:"text"}):void 0},RecruitCandidateDiagramView}(window.HR.GenericView),RecruitCandidateServerTaskView=function(superClass){function RecruitCandidateServerTaskView(){return RecruitCandidateServerTaskView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateServerTaskView,superClass),RecruitCandidateServerTaskView.prototype.template="recruit/question-servertask",RecruitCandidateServerTaskView.prototype.className="question-servertask",RecruitCandidateServerTaskView.prototype.events={"click .js-startserver":"startServer","click .js-refreshserver":"refreshServer","click .js-webshell":"useWeb","click .js-terminal":"useTerm","click .js-webshell-help":"popupTmuxHelp","click .js-opennewtab":"openNewTab"},RecruitCandidateServerTaskView.prototype.initialize=function(options){return this.question=options.question,this.model=options.model,this.states={5:"Launching server",10:"Setting up task environment",20:"Almost ready..",50:"Server no longer accessible"}},RecruitCandidateServerTaskView.prototype.render=function(){var finished,needs_refresh,ref,ref1,server_state,user_accessible;return clearInterval(window.taskRefreshTimer),server_state=null,user_accessible=!1,needs_refresh=!1,finished=!1,this.question.solve&&this.question.solve.task_attempt&&(server_state=this.states[this.question.solve.task_attempt.state],20===(ref=this.question.solve.task_attempt.state)||30===ref?user_accessible=!0:5===(ref1=this.question.solve.task_attempt.state)||10===ref1?needs_refresh=!0:finished=!0),$(this.el).html(HR.appController.template(this.template,this)({question:this.question,server_state:server_state,user_accessible:user_accessible,task_attempt:this.question.solve&&this.question.solve.task_attempt?this.question.solve.task_attempt:null,use_web:HR.candidate.websshpreferred,finished:finished})),user_accessible||finished||(window.taskRefreshTimer=setInterval(function(_this){return function(){return _this.$(".js-refreshserver").trigger("click")}}(this),1e4)),this},RecruitCandidateServerTaskView.prototype.useWeb=function(e){return e.preventDefault(),HR.candidate.websshpreferred=!0,this.render()},RecruitCandidateServerTaskView.prototype.useTerm=function(e){return e.preventDefault(),HR.candidate.websshpreferred=!1,this.render()},RecruitCandidateServerTaskView.prototype.openNewTab=function(){return HR.candidate.websshpreferred=!1,this.render()},RecruitCandidateServerTaskView.prototype.popupTmuxHelp=function(e){return e.preventDefault(),HR.util.alert({closebutton:!0,title:"Webshell keyboard shortcuts",message:'<small>Hackerrank webshell interface is powered by tmux - a terminal server running on servers, which stores sessions, and allows for creation of windows/panes. Below are keyboard shortcuts you can use to make use of these features.</small>\n<br/><br/>\n<div class="table-wrap text-center" style="font-size:smaller">\n<header class="row">\n    <div class="span-flex-8">Action</div>\n    <div class="span-flex-7">Shortcut</div>\n</header>\n<div class="table-body">\n  <div class="row">\n    <div class="span-flex-8">Master key</div>\n    <div class="span-flex-7">ctrl+a</div>\n  </div>\n  <div class="row">\n    <div class="span-flex-8">Create a new window</div>\n    <div class="span-flex-7">ctrl+a , c</div>\n  </div>\n  <div class="row">\n    <div class="span-flex-8">Switch to window (number)</div>\n    <div class="span-flex-7">ctrl+a, (num)</div>\n  </div>\n  <div class="row">\n    <div class="span-flex-8">Split window to 2 panes (horizontal)</div>\n    <div class="span-flex-7">ctrl+a, |<br/>pipe character</div>\n  </div>\n  <div class="row">\n    <div class="span-flex-8">Split window to 2 panes (vertical)</div>\n    <div class="span-flex-7">ctrl+a, -<br/>minus character</div>\n  </div>\n  <div class="row">\n    <div class="span-flex-8">Switch panes</div>\n    <div class="span-flex-7">ctrl+a, arrow-keys<br/>or use mouse click</div>\n  </div>\n  <div class="row">\n    <div class="span-flex-8">Scrolling terminal/pane</div>\n    <div class="span-flex-7">ctrl+a, [ , and then arrow keys</div>\n  </div>\n</div>\n'})},RecruitCandidateServerTaskView.prototype.refreshServer=function(){var uid;return this.$(".js-refreshserver").html("Refreshing.."),HR.candidate.redirectBackTo=Backbone.history.fragment,uid=HR.candidate.candidateTestModel.get("unique_id"),HR.router.navigate(uid+"/redirect",{trigger:!0,replace:!0})},RecruitCandidateServerTaskView.prototype.startServer=function(e){var btn,request_params;return e.preventDefault(),btn=this.$(e.currentTarget),btn.attr("disabled")?void 0:null===this.question.solve?(btn.html("Starting server.."),btn.attr("disabled","disabled"),request_params={url:"/recruit/attempts/"+HR.candidate.candidateAttemptModel.get("id")+"/solves",data:{qid:this.model.get("unique_id"),answer:""},dataType:"json",type:"POST",success:function(){return function(){var uid;return HR.candidate.redirectBackTo=Backbone.history.fragment,uid=HR.candidate.candidateTestModel.get("unique_id"),HR.router.navigate(uid+"/redirect",{trigger:!0,replace:!0})}}(this),error:function(){return function(){var uid;return HR.util.alert("Could not setup server. Did you already create one?"),uid=HR.candidate.candidateTestModel.get("unique_id"),HR.router.navigate(uid+"/redirect",{trigger:!0,replace:!0})}}(this)},$.ajax(request_params)):(HR.util.alert({message:"You've already setup a server in this test."}),void 0)},RecruitCandidateServerTaskView}(window.HR.GenericView),RecruitCandidateSudoRankView=function(superClass){function RecruitCandidateSudoRankView(){return RecruitCandidateSudoRankView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateSudoRankView,superClass),RecruitCandidateSudoRankView.prototype.template="recruit/sudorank",RecruitCandidateSudoRankView.prototype.className="sudorank",RecruitCandidateSudoRankView.prototype.initialize=function(options){return this.parent=options.parent,this._subviews=[]},RecruitCandidateSudoRankView.prototype.answer=function(){return null},RecruitCandidateSudoRankView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)),this.alertview=new RecruitCandidateServerAlertView,this.assign({".js-alert":this.alertview}),this._subviews.push(this.alertview),this.parent.$(".ans-submit").html("Continue"),this},RecruitCandidateSudoRankView}(window.HR.GenericView),RecruitCandidateServerAlertView=function(superClass){function RecruitCandidateServerAlertView(){return RecruitCandidateServerAlertView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateServerAlertView,superClass),RecruitCandidateServerAlertView.prototype.template="recruit/sudorankinfo",RecruitCandidateServerAlertView.prototype.className="sudorankinfo",RecruitCandidateServerAlertView.prototype.initialize=function(){},RecruitCandidateServerAlertView.prototype.render=function(){var ref,ta;return $(this.el).html(HR.appController.template(this.template,this)),ta=HR.candidate.candidateAttemptModel.get("task_attempt"),5===(ref=ta.state)||10===ref?(clearInterval(window.checkLoop),window.checkLoop=setInterval(function(){return function(){var attempt;return attempt=new HR.CandidateAttemptModel,attempt.setAid(HR.candidate.candidateTestModel.get("attempt")),attempt.fetch({success:function(m){return ta=m.get("task_attempt"),ta&&20===ta.state?(clearInterval(window.checkLoop),HR.util.alert({title:"Server available",message:"Your task server has been initialized. Please click OK to refresh latest details.",callback:function(){return HR.router.navigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect",{trigger:!0,replace:!0})}})):void 0}})}}(this),2e4)):20===ta.state&&this.$(".serverdetails").html("<pre>\n<strong>User</strong>: "+ta.username+"\n<strong>Server</strong>: "+ta.ip_address+"\n<strong>Password</strong>: "+ta.password+"\n\n<strong>Command</strong>: ssh "+ta.username+"@"+ta.ip_address+"\n</pre>"),this},RecruitCandidateServerAlertView}(window.HR.GenericView),RecruitCandidateFooterView=function(superClass){function RecruitCandidateFooterView(){return RecruitCandidateFooterView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateFooterView,superClass),RecruitCandidateFooterView.prototype.template="recruit/footer",RecruitCandidateFooterView.prototype.className="footer",RecruitCandidateFooterView.prototype.initialize=function(){},RecruitCandidateFooterView.prototype.render=function(){var footer_copyright;return $("footer").show(),footer_copyright=HR.candidate.candidateTestModel.get("footer_copyright"),$(this.el).html(HR.appController.template(this.template,this)({test:HR.candidate.candidateTestModel.toJSON()})),this},RecruitCandidateFooterView}(window.HR.GenericView),RecruitCandidateTopBarView=function(superClass){function RecruitCandidateTopBarView(){return RecruitCandidateTopBarView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateTopBarView,superClass),RecruitCandidateTopBarView.prototype.template="recruit/topbar",RecruitCandidateTopBarView.prototype.className="topbar",RecruitCandidateTopBarView.prototype.TIME_LEFT_FOR_ALERT=300,RecruitCandidateTopBarView.prototype.TEST_DURATION_ALERT_THRESHOLD=120,RecruitCandidateTopBarView.prototype.LONG_PING_TIME=6e4,RecruitCandidateTopBarView.prototype.QUICK_PING_TIME=1e4,RecruitCandidateTopBarView.prototype.fullScreeenMode=function(){return screenfull&&!(HR.candidate.candidateAttemptModel.get("attempt_done")&&HR.candidate.candidateAttemptModel.get("attempt_done")===!0||(clearTimeout(this.fullscreenTimer),this.fullscreenTimer=setTimeout(function(_this){return function(){return screenfull.isFullscreen||0!==$(".hr-dialog").length||(_this.renderedDialog=!1),_this.fullScreeenMode()}}(this),2e3),this.renderedDialog))?("undefined"==typeof this.renderedDialog&&document.addEventListener(screenfull.raw.fullscreenchange,function(_this){return function(){return screenfull.isFullscreen||"logout"===HR.candidate.candidateTestModel.action?void 0:(_this.renderedDialog=!1,_this.fullScreeenMode())}}(this)),this.renderedDialog=!0,HR.util.alert({title:"Require secure full-screen mode",message:"This test requires your browser to be in a secure full-screen mode. Note that all attempts to exit the full screen mode will be logged. Press OK to continue with the test.",callback:function(){return screenfull.enabled?(Backbone.History.started&&Backbone.history.stop(),Backbone.history.start({pushState:!1,root:"/tests",silent:!0}),Backbone.history.navigate(HR.candidate.candidateTestModel.get("unique_id")+"/questions",!0),$("#HackerRank-main, html").css("overflow","auto"),$("#HackerRank-main").css("width","100%"),$(".page-header").css("left","0"),screenfull.request($("#HackerRank-main")[0])):void 0}})):void 0},RecruitCandidateTopBarView.prototype.secureMonitoring=function(){var logEvent;if(!this.secureMonitoringActive&&HR.candidate.candidateAttemptModel)return this.secureMonitoringActive=!0,logEvent=function(data){return HR.candidate.candidateTestModel&&HR.candidate.candidateTestModel.get("attempt_done")?void 0:(data.insertTime=new Date,HR.candidate.secureActivity.add(data))},window.onblur=function(){return logEvent({action:"blur",eid:7})},window.onfocus=function(){return logEvent({action:"focus",eid:8})}},RecruitCandidateTopBarView.prototype.initialize=function(){return Offline.options={reconnect:{initialDelay:3},requests:!1,game:!1}},RecruitCandidateTopBarView.prototype.getTimeLeft=function(){var tl;return tl=HR.candidate.candidateTestModel.get("sectional")?HR.candidate.candidateAttemptModel.get("section_time_left"):HR.candidate.candidateAttemptModel.get("time_left")},RecruitCandidateTopBarView.prototype.timerForSection=function(){return HR.candidate.candidateTestModel.get("sectional")&&HR.candidate.candidateAttemptModel.get("section_time_left")!==HR.candidate.candidateAttemptModel.get("time_left")},RecruitCandidateTopBarView.prototype.setAlertClass=function(time_left){return time_left<this.TIME_LEFT_FOR_ALERT?$(".timerspan").addClass("alerttimer"):$(".timerspan").removeClass("alerttimer")},RecruitCandidateTopBarView.prototype.updateTimer=function(){var serversolve,solves,task,taskStarted,time_left;return task=!1,taskStarted=!1,HR.candidate.candidateTestModel.get("task_test")&&!HR.candidate.candidateTestModel.get("attempt_done")&&(task=!0,solves=HR.candidate.candidateAttemptModel.get("solve_mapping"),serversolve=solves[HR.candidate.candidateAttemptModel.get("questions")[0].unique_id],serversolve&&serversolve.task_accessible?taskStarted=!0:($("#countdown-timer").html("Start server"),$("#timertag").html("to begin timer."),taskStarted=!1)),time_left=this.getTimeLeft(),setTimeout(function(_this){return function(){var expiryCallback;return _this.delegateEvents(),$("#countdown-timer").countdown("destroy").countdown({until:time_left,layout:_this.getTimeLayout(time_left),compact:!0}),expiryCallback=function(){return _this.testTimeUp()},$("#countdown-timer").countdown("option","onExpiry",expiryCallback),$("#countdown-timer").countdown("option","tickInterval",5),$("#countdown-timer").countdown("option","onTick",function(a){var i,seconds;return HR.candidate._debugLastTicks=[a].concat(HR.candidate._debugLastTicks).slice(0,50),seconds=0,i=6,a.map(function(val){return seconds+=val*Math.pow(60,i),i-=1}),_this.setAlertClass(seconds),seconds!==_this.TIME_LEFT_FOR_ALERT||_this.timerForSection()||HR.util.alert({title:"5 minutes remaining!",message:"A friendly reminder - you are down to the last 5 minutes of the test. Make sure you get all your answers in before the clock runs out!",okButtonText:"Dismiss",timeout:60}),100===seconds?_this.setPingInterval(_this.QUICK_PING_TIME):void 0}),_this.setAlertClass(time_left),task?taskStarted?$("#timertag").html("to end of session"):$("#timertag").html("to start server"):_this.timerForSection()?$("#timertag").html("to section end"):$("#timertag").html("to test end")}}(this))},RecruitCandidateTopBarView.prototype.events={"click .js-othertest":"showOtherTests"},RecruitCandidateTopBarView.prototype.showOtherTests=function(e){var buttons;return e.preventDefault(),buttons="",_.each(HR.candidate.candidateTestModel.get("multi_login"),function(){return function(t){return buttons+="<br><a href='/tests/"+t.unique_id+"/questions' class='btn btn-primary mdB'>"+t.name+"</a>\n"}}(this)),HR.util.alert({title:"Other active tests",message:"You can click on the below to switch tests.<br> "+buttons,okButtonText:"Close",callback:function(){}})},RecruitCandidateTopBarView.prototype.getTimeLayout=function(time_left){var time_layout;return time_layout=time_left>=86400?"{dn}{dl} {hnn}h":time_left>=7200&&86400>time_left?"{hnn}:{mnn}":"{hnn}:{mnn}:{snn}"},RecruitCandidateTopBarView.prototype.render=function(){var current_active_questions,current_qhashes,current_questions,current_section,interval,k,last_section,mark_primary,qcount,qdone,sectional,solve_count;if($(this.el).html(HR.appController.template(this.template,this)({test:HR.candidate.candidateTestModel,attempt:HR.candidate.candidateAttemptModel,showalert:this.getTimeLeft<this.TIME_LEFT_FOR_ALERT})),HR.candidate.candidateAttemptModel.get("secure")&&"True"===HR.candidate.candidateAttemptModel.get("secure")?(this.secureMonitoring(),HR.requires(["screenfull/dist/screenfull"],function(_this){return function(){return _this.fullScreeenMode()}}(this))):HR.candidate.windowFocushookPresent||(HR.candidate.windowFocushookPresent=!0,window.onfocus=function(){return function(){return HR.candidate.windowBlurred=!1,HR.candidate.showFocusMessage?(HR.candidate.showFocusMessage=!1,HR.util.alert({title:"Refresh needed",message:"The test state changed while you were away, and will be refreshed shortly.",timeout:15,callback:function(){var uid;if(HR.candidate&&HR.candidate.candidateTestModel)return uid=HR.candidate.candidateTestModel.get("unique_id"),HR.router.navigate(uid+"/redirect",{trigger:!0,replace:!0})}})):void 0}}(this),window.onblur=function(){return function(){return HR.candidate.windowBlurred=!0}}(this)),this.updateTimer(),HR.candidate.pingTimer&&clearInterval(HR.candidate.pingTimer),HR.candidate.candidateAttemptModel.get("attempt_done"))HR.appView.setTopbarView();else{if(qdone=_.keys(HR.candidate.candidateAttemptModel.get("solve_mapping")||{}).length,qcount=HR.candidate.candidateAttemptModel.get("questions").length,this.updateProgress(qdone,qcount,Math.floor(100*qdone/qcount)),sectional=HR.candidate.candidateTestModel.get("sectional")){current_section=HR.candidate.candidateAttemptModel.get("section"),last_section=current_section===HR.candidate.candidateAttemptModel.get("sections_mapping").length?!0:!1,current_active_questions=_.filter(HR.candidate.candidateAttemptModel.get("questions"),function(q){return!(q.disabled&&q.disabled===!0)}),current_qhashes=_.map(current_active_questions,function(q){return q.unique_id}),solve_count=0;for(k in HR.candidate.candidateAttemptModel.get("solve_mapping"))indexOf.call(current_qhashes,k)>=0&&(solve_count+=1);mark_primary=solve_count===current_qhashes.length?!0:!1,mark_primary?last_section?$("button.test-done").addClass("btn-primary"):$("button.section-finish-"+current_section).addClass("btn-primary"):last_section?$("button.test-done").removeClass("btn-primary"):$("button.section-finish-"+current_section).removeClass("btn-primary"),current_questions=HR.candidate.candidateAttemptModel.get("questions")}else qdone===qcount?$("button.test-done").addClass("btn-primary"):$("button.test-done").removeClass("btn-primary");interval=this.getTimeLeft()<100?this.QUICK_PING_TIME:this.LONG_PING_TIME,this.setPingInterval(interval)}return this},RecruitCandidateTopBarView.prototype.updateProgress=function(left,right,progress,loader){return null==loader&&(loader=!1),loader?(this.$(".js-progress").addClass("hidden"),this.$(".js-loader").removeClass("hidden"),this.$(".progress-done").css({width:0})):(this.$(".js-progress").removeClass("hidden"),this.$(".js-loader").addClass("hidden"),this.$(".qdone").html(left),this.$(".qcount").html(right),this.$(".progress-done").css({width:progress}))},RecruitCandidateTopBarView.prototype.setPingInterval=function(interval){return HR.candidate.pingTimer&&clearInterval(HR.candidate.pingTimer),HR.candidate.pingTimer=setInterval(function(_this){return function(){return _this.ping()}}(this),interval)},RecruitCandidateTopBarView.prototype.ping=function(pingcallback,opsgenie){var ans,dat,outerSection,saving,sectional;return null==pingcallback&&(pingcallback=null),null==opsgenie&&(opsgenie=!1),dat={pong:!0,storageSize:$.jStorage.storageSize()},HR.candidate.currentQuestion&&(ans=HR.candidate.questionView.getAnswerToSave(),saving=!1,ans&&(saving=!0,dat.to_save_code=ans,dat.qid=HR.candidate.questionView.model.get("unique_id"))),saving&&HR.candidate.candidateAttemptModel.get(!0)&&HR.candidate.questionView.view.$("#editor").codeshell("setStatusText","Saving draft.."),HR.candidate.candidateTestModel?(sectional=HR.candidate.candidateTestModel.get("sectional"),sectional&&(outerSection=HR.candidate.candidateAttemptModel.get("section")),pingcallback&&(dat.candidatestate=HR.util.safeStringify(HR.candidate.candidateAttemptModel),dat.lastTicks=HR.candidate._debugLastTicks),opsgenie&&(dat.opsgenie=!0),HR.candidate.candidateAttemptModel.save({data:dat},{success:function(_this){return function(model){var ref;return HR.candidate.candidateAttemptModel=model,saving&&(("project"===(ref=HR.candidate.questionView.model.get("type"))||"android"===ref||"design"===ref)&&("design"===HR.candidate.questionView.model.get("type")?HR.candidate.questionView.model.get("multiple_files")&&(window.HR.appView.dirty=!1):window.HR.appView.dirty=!1),HR.candidate.candidateAttemptModel.get(!0)&&HR.candidate.questionView.view.$("#editor").codeshell("setStatusText","Draft saved "+moment().format("hh:mm a"))),HR.candidate.windowBlurred&&(sectional&&model.get("section")!==outerSection||model.get("attempt_done"))?HR.candidate.showFocusMessage=!0:(HR.candidate.showFocusMessage||_this.updateTimer(),sectional&&model.get("section")!==outerSection&&HR.util.alert({title:"Test state changed",message:"The test state has changed, and the question list has to be refreshed.",timeout:15,callback:function(){var uid;return uid=HR.candidate.candidateTestModel.get("unique_id"),HR.candidate.attemptRefreshNeeded=!0,HR.router.navigate(uid+"/redirect",{trigger:!0,replace:!0})}})),pingcallback?pingcallback(model):void 0}}(this),error:function(){var model;return pingcallback&&(model=HR.candidate.candidateAttemptModel,model.set("attempt_done",!0),model.set("time_left",0),pingcallback(model)),saving&&HR.candidate.candidateAttemptModel.get(!0)?HR.candidate.questionView.view.$("#editor").codeshell("setStatusText","Unable to save draft."):void 0}})):void 0},RecruitCandidateTopBarView.prototype.testTimeUp=function(){var pingcallback;return HR.candidate.candidateTestModel.get("sectional")&&HR.candidate.candidateAttemptModel.get("time_left")>30?(HR.candidate.pingTimer&&clearInterval(HR.candidate.pingTimer),$("#countdown-timer").countdown("destroy").html("Section done."),$(".timerspan").removeClass("alerttimer"),$("#timertag").empty(),HR.candidate.showFocusMessage=!1,HR.util.alert({title:"Section closed",message:"You have exceeded the time limit set for this section.<br><br>All answers you submitted before the time limit have been saved. You will automatically be moved to the next section shortly.",timeout:15,callback:function(){var uid;return $("#fullscreen-wrapper").unbind().hide(),uid=HR.candidate.candidateTestModel.get("unique_id"),HR.candidate.attemptRefreshNeeded=!0,window.HR.appView.dirty=!1,HR.router.navigate(uid+"/redirect",{trigger:!0,replace:!0})}})):(pingcallback=function(_this){return function(m){var modalMessage;return m.get("attempt_done")===!0||m.get("time_left")<=2?(HR.candidate.pingTimer&&clearInterval(HR.candidate.pingTimer),modalMessage="Thank you for taking the test. You have used up the allotted time for this test. You will now be redirected to a feedback page where you can leave a message for us about your experience.",m.get("submittable")&&(modalMessage+="<div class='alert info pdA mlT'> <p>There are some unsaved changes in the last question you were attempting. If you would like to save the draft as it is right now, check the box below.<br/><br/> </p> <div class='row mmL mmR'> <div class='span1'> <input type='checkbox' id='savelast'/> </div> <div class='span14'>Yes, consider the draft as my final answer for this problem. </div> </div> </div>"),$("#countdown-timer").countdown("destroy").html("Test done."),$(".timerspan").removeClass("alerttimer"),$("#timertag").empty(),HR.candidate.showFocusMessage=!1,HR.util.alert({title:"Test finished",message:modalMessage,timeout:180,okButtonText:"Proceed",callback:function(){return HR.candidate.candidateTestModel.setAction("logout"),HR.candidate.candidateTestModel.save({how:"forced",submit_last:void 0!==$("#savelast").attr("checked"),currentQuestion:HR.candidate.currentQuestion,candidatestate:HR.util.safeStringify(HR.candidate.candidateAttemptModel)},{success:function(){return function(m){return $("#fullscreen-wrapper").unbind().hide(),window.HR.appView.dirty=!1,HR.router.navigate(m.get("unique_id")+"/redirect",{trigger:!0,replace:!0})}}(this)})}})):(HR.candidate.pingTimer&&clearInterval(HR.candidate.pingTimer),_this.ping(function(){return _this.updateTimer()},!0))}}(this),HR.candidate.pingTimer&&clearInterval(HR.candidate.pingTimer),this.ping(pingcallback))},RecruitCandidateTopBarView}(window.HR.GenericView),RecruitCandidateSideBarView=function(superClass){function RecruitCandidateSideBarView(){return this.performNavActions=bind(this.performNavActions,this),RecruitCandidateSideBarView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateSideBarView,superClass),RecruitCandidateSideBarView.prototype.template="recruit/sidebar",RecruitCandidateSideBarView.prototype.className="sbar",RecruitCandidateSideBarView.prototype.icon_types={QUESTION_ANSWERED:"nav",QUESTION_UNANSWERED:1,QUESTION_LIST:2},RecruitCandidateSideBarView.prototype.events={"click .js-navlink":"handleNav"},RecruitCandidateSideBarView.prototype.render=function(){var url;return HR.candidate.ongoingQuestionNavigation=!1,url=Backbone.history.fragment,$(this.el).html(HR.appController.template(this.template,this)),this.$(".fixed-nav").html(this.getTopIcons()),url.endsWith("questions")||url.endsWith("questions/")||(this.$(".questions-nav").html(this.getQuestionIcons()),HR.candidate.lastQuestionViewed&&setTimeout(function(_this){return function(){return _this.$(".qnav-"+HR.candidate.lastQuestionViewed)[0]&&_this.$(".qnav-"+HR.candidate.lastQuestionViewed)[0].scrollIntoView(),_this.delegateEvents()}}(this))),this},RecruitCandidateSideBarView.prototype.performNavActions=function(){var myhref;if(!this.me.hasClass("disabled")&&!HR.candidate.ongoingQuestionNavigation)return myhref=this.me.attr("href"),this.$(".js-navlink").removeAttr("href"),this.$(".js-navlink").addClass("disabled"),this.me.removeClass("disabled")},RecruitCandidateSideBarView.prototype.handleNav=function(e){var myhref;return e.preventDefault(),this.me=this.$(e.currentTarget),myhref=this.me.attr("href"),HR.appView&&!HR.appView.dirty?this.performNavActions():HR.Vent.off("view:dirty:navigate").on("view:dirty:navigate",this.performNavActions),HR.candidate.attemptRefreshNeeded=!0,HR.candidate.ongoingQuestionNavigation=!0,setTimeout(function(){return HR.candidate.ongoingQuestionNavigation=!1},1e4),HR.router.navigate(myhref,{trigger:!0,replace:!0})},RecruitCandidateSideBarView.prototype.getTopIcons=function(){var cls,html,url;return html="",url=Backbone.history.fragment,cls="",(url.endsWith("questions")||url.endsWith("questions/"))&&(cls="active"),html+='<a href="'+HR.candidate.candidateTestModel.get("unique_id")+'/questions" aria-label="Display all questions" aria-level="2" class="backbone js-navlink"><li class="'+cls+'"><i class="nav-icon icon-list-bullet-large"></i></li></a>',HR.candidate.candidateTestModel.get("task_test")||(cls="",(url.endsWith("instructions")||url.endsWith("instructions/"))&&(cls="active"),html+='<a href="'+HR.candidate.candidateTestModel.get("unique_id")+'/instructions" aria-label="At any time during the test you can access our FAQ as well as other platform help on this tab." aria-level="2" class="backbone js-navlink">\n<li class="'+cls+"\" >\n    <i class=\"nav-icon icon-help-circled  js-instruction-link\" data-placement='right' data-trigger='manual' aria-label='Instructions. At any time during the test you can access our FAQ as well as other platform help on this tab.'></i>\n</li>\n</a>"),html},RecruitCandidateSideBarView.prototype.getQuestionIcons=function(){var active,answered,answered_qs,elhtml,j,label,len,li_gen,q,qs,ref;for(elhtml="",li_gen=function(answered,disabled,active,link,label){var act,ans,btnclass,dis,href,qlabel,selected_aria_helper;return ans=answered?"answered":"not-answered",dis=disabled?"disabled":"",act=active?"active":"",btnclass=disabled||active?"":"js-navlink",qlabel="Question "+label,selected_aria_helper="Currently Selected",disabled||active?href="":(href="href='"+link+"'",selected_aria_helper=""),"<a "+href+" class='"+btnclass+"' aria-label='"+qlabel+" "+selected_aria_helper+"' aria-atomic='true'>\n<li class='qnav-"+label+" "+ans+" "+dis+" "+act+"'>\n      <span class='quest-number'>"+label+"</span>\n</li>\n</a>"},qs=HR.candidate.candidateAttemptModel.get("questions"),answered_qs=_.keys(HR.candidate.candidateAttemptModel.get("solve_mapping")),label=1,j=0,len=qs.length;len>j;j++)q=qs[j],ref=q.unique_id.toString(),answered=indexOf.call(answered_qs,ref)>=0,active=q.unique_id===HR.candidate.currentQuestion,elhtml+=q.disabled?li_gen(answered,!0,active,"",label):li_gen(answered,!1,active,HR.candidate.candidateTestModel.get("unique_id")+"/questions/"+q.unique_id,label),label+=1;return elhtml},RecruitCandidateSideBarView}(window.HR.GenericView),RecruitCandidateCompileTestView=function(superClass){function RecruitCandidateCompileTestView(){return RecruitCandidateCompileTestView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateCompileTestView,superClass),RecruitCandidateCompileTestView.prototype.template="recruit/compiletest-base",RecruitCandidateCompileTestView.prototype.className="ct-base",RecruitCandidateCompileTestView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)),this},RecruitCandidateCompileTestView.prototype.setStatus=function(s,additional_class){return null==additional_class&&(additional_class=""),this.$(".status-msg").html(s),""!==additional_class?this.$(".status-msg").attr("class","status-msg").addClass(additional_class):void 0},RecruitCandidateCompileTestView.prototype.setCompileStatus=function(title,message){return this.$(".compile-header").html(title),this.$(".compile-message").html(HR.util.htmlEncode(message)),this.$("#error-message").removeClass("hide")},RecruitCandidateCompileTestView.prototype.setSuccessfulCompileStatus=function(title,message){return this.$(".compile-header").html(title),this.$(".compile-message").html(_.escape(message)),this.$("#success-message").removeClass("hide")},RecruitCandidateCompileTestView.prototype.setTestMessage=function(title,message){var test_msg_dom;return test_msg_dom=this.$("#test-message"),test_msg_dom.find(".field-label").html(title),test_msg_dom.find(".error-output .testcase-output").html(_.escape(message)),test_msg_dom.removeClass("hide")},RecruitCandidateCompileTestView.prototype.setCoverageMessage=function(title,message){var msg_dom;return msg_dom=this.$("#coverage-message"),msg_dom.find(".field-label").html(title),msg_dom.find(".error-output .testcase-output").html(_.escape(message)),msg_dom.removeClass("hide")},RecruitCandidateCompileTestView.prototype.addTestCase=function(tno,input,output,output_debug,exp_output,compiler_msg,censored_stderr,st_class,score,output_label){var tc;return null==output_label&&(output_label="Your Output"),tc=new HR.RecruitCandidateTestCaseView({tno:tno,input:input,output:output,exp_output:exp_output,st_class:st_class,compiler_msg:compiler_msg,output_debug:output_debug,censored_stderr:censored_stderr,score:score,output_label:output_label}),this.$(".testcases").append(tc.render().el)},RecruitCandidateCompileTestView}(window.HR.GenericView),RecruitCandidateTestCaseView=function(superClass){function RecruitCandidateTestCaseView(){return RecruitCandidateTestCaseView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateTestCaseView,superClass),RecruitCandidateTestCaseView.prototype.template="recruit/compiletest-testcase",RecruitCandidateTestCaseView.prototype.classname="test-case-wrap",RecruitCandidateTestCaseView.prototype.initialize=function(o){return this.tno=o.tno,this.input=o.input,this.output=o.output,this.exp_output=o.exp_output,this.compiler_msg=o.compiler_msg,this.st_class=o.st_class,this.output_debug=o.output_debug,this.censored_stderr=o.censored_stderr,this.score=o.score,this.output_label=o.output_label},RecruitCandidateTestCaseView.prototype._render=function(){return this.$el.html(HR.appController.template(this.template,this)({tno:this.tno,input:this.input,output:this.output,exp_output:this.exp_output,compiler_msg:this.compiler_msg,st_class:this.st_class,output_debug:this.output_debug,censored_stderr:this.censored_stderr,score:this.score,output_label:this.output_label})),this},RecruitCandidateTestCaseView}(window.HR.GenericView),HR=null!=(ref=window.HR)?ref:{},HR.RecruitCandidateListView=RecruitCandidateListView,HR.RecruitCandidateQuestionView=RecruitCandidateQuestionView,HR.RecruitCandidateCodingView=RecruitCandidateCodingView,HR.RecruitCandidateDesignView=RecruitCandidateDesignView,HR.RecruitCandidateMcqView=RecruitCandidateMcqView,HR.RecruitCandidateSubjectiveView=RecruitCandidateSubjectiveView,HR.RecruitCandidateCompleteView=RecruitCandidateCompleteView,HR.RecruitCandidateRewriteView=RecruitCandidateRewriteView,HR.RecruitCandidateUnscrambleView=RecruitCandidateUnscrambleView,HR.RecruitCandidateCorrectErrorsView=RecruitCandidateCorrectErrorsView,HR.RecruitCandidateFileUploadView=RecruitCandidateFileUploadView,HR.RecruitCandidateDiagramView=RecruitCandidateDiagramView,HR.RecruitCandidateProjectView=RecruitCandidateProjectView,HR.RecruitCandidateSudoRankView=RecruitCandidateSudoRankView,HR.RecruitCandidateTopBarView=new RecruitCandidateTopBarView,HR.RecruitCandidateFooterView=new RecruitCandidateFooterView,HR.RecruitCandidateSideBarView=new RecruitCandidateSideBarView,HR.RecruitCandidateCompileTestView=RecruitCandidateCompileTestView,HR.RecruitCandidateTestCaseView=RecruitCandidateTestCaseView,HR.RecruitCandidateInstructionsView=RecruitCandidateInstructionsView,HR.RecruitCandidateServerTaskView=RecruitCandidateServerTaskView
})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,HackerRankLoginView;return HackerRankLoginView=function(superClass){function HackerRankLoginView(){return HackerRankLoginView.__super__.constructor.apply(this,arguments)}return extend(HackerRankLoginView,superClass),HackerRankLoginView.prototype.template="recruit/hackerrank-login",HackerRankLoginView.prototype.formAction="login",HackerRankLoginView.prototype.initialize=function(options){return null==options&&(options={}),this.parent=options.parent,this.model=HR.hackerProfile,this.test=options.test,this.possibleHacker=options.possibleHacker,this._prefillDetails=this.parent._prefillDetails},HackerRankLoginView.prototype.events={"click .show-login-form":"setLoginForm","click .show-signup-form":"setSignupForm","click .switch-user":"logoutAndSetLoginForm","click .show-password-reset-form":"showPasswordResetForm","submit form[name=password-reset]":"resetPassword","click a.btn-facebook":"facebookConnect","click a.btn-google":"googleConnect","click a.btn-github":"githubConnect","click button.login-button":"loginWithHR","click button.signup-button":"signupOnHR","click a.params-signup":"setParamsSignup","click a.possible-hacker-login":"setHackerLogin","change input[name=hacker-select]":"togglePassword","click .continue-button":"continueWithSelection","click .btn-show-signup-form":"showSignupForm","click a.solve-later-button":"solveLater","click button.get-challenge-link-button":"sendChallengeLink","keyup #js-solve-later-email-address":"clickSendChallengeButton"},HackerRankLoginView.prototype._render=function(){var loader;return loader=HR.appController.templateOnSteroids(this.template,this),loader&&$(this.el).html(loader),this},HackerRankLoginView.prototype._applyTemplate=function(){var content;return content=this._template({action:this.formAction,model:this.model.toJSON(),test:this.test.toJSON(),company:HR.company.toJSON(),possibleHacker:this.possibleHacker?this.possibleHacker.toJSON():void 0,forgotPasswordLink:document.location.protocol+"//"+document.location.host+"/auth/forgot_password"}),$(this.el).html(content),this.postApplyTemplate(),this},HackerRankLoginView.prototype.postApplyTemplate=function(){return setTimeout(function(_this){return function(){return _this.setupFormForHacker()}}(this))},HackerRankLoginView.prototype.setLoginForm=function(e){return null==e&&(e=null),e&&e.preventDefault(),$(".signup").addClass("hidden"),$(".login").removeClass("hidden"),$(".login-selection").addClass("hidden"),HR.util.heapTrack("[HRW][Login with HR] Show Login Form Link Clicked",HR&&HR.params&&HR.params.username?{invitedEmail:HR.params.username}:void 0,{testUniqueId:HR.candidate.candidateTestModel.get("unique_id")})},HackerRankLoginView.prototype.setSignupForm=function(e){return null==e&&(e=null),e&&(e.preventDefault(),$("#legacy-signup").show()),$(".signup").removeClass("hidden"),$(".login").addClass("hidden"),$(".login-selection").addClass("hidden"),HR.util.heapTrack("[HRW][Login with HR] Show Signup Form Link Clicked",HR&&HR.params&&HR.params.username?{invitedEmail:HR.params.username}:void 0,{testUniqueId:HR.candidate.candidateTestModel.get("unique_id")})},HackerRankLoginView.prototype.isPossibleHackerPresent=function(){return this.possibleHacker.get("id")},HackerRankLoginView.prototype.isHackerLoggedIn=function(){return this.model.get("id")},HackerRankLoginView.prototype.setupFormForHacker=function(){if(!this._prefillDetails)return this.setLoginForm(),!1;if(this.isHackerLoggedIn()){if(this.isPossibleHackerPresent()&&(this.setSelectionForm(),!this.parent.heapEventSent))return this.parent.heapEventSent=!0,HR.util.heapTrack("[HRW][Login with HR] Hacker Logged in | Invited email different from logged in Email",HR.params?{invitedEmail:HR.params.username}:void 0,{loggedInEmail:HR.hackerProfile.get("email"),testUniqueId:HR.candidate.candidateTestModel.get("unique_id")})}else if(this.isPossibleHackerPresent()){if(this.setLoginForm(),this.prefillPossibleHackerDetails(),!this.parent.heapEventSent)return this.parent.heapEventSent=!0,HR.util.heapTrack("[HRW][Login with HR] Hacker not Logged in | Hacker with invited email found",HR.params?{invitedEmail:HR.params.username}:void 0,{testUniqueId:HR.candidate.candidateTestModel.get("unique_id")})}else if(HR&&HR.params&&HR.params.username&&this.prefillParamsDetails(),this.setSignupForm(),!this.parent.heapEventSent)return this.parent.heapEventSent=!0,HR.util.heapTrack("[HRW][Login with HR] Hacker not Logged in | Hacker with invited email not found",HR.params?{invitedEmail:HR.params.username}:void 0,{testUniqueId:HR.candidate.candidateTestModel.get("unique_id")})},HackerRankLoginView.prototype.logoutAndSetLoginForm=function(e){return e.preventDefault(),this.logoutCurrentHacker(this.setLoginForm)},HackerRankLoginView.prototype.prefillPossibleHackerDetails=function(){return $(".login input[name=login]").val(this.possibleHacker.get("email"))},HackerRankLoginView.prototype.prefillParamsDetails=function(){return HR&&HR.params&&HR.params.username?$(".signup input[name=email]").val(HR.params.username):void 0},HackerRankLoginView.prototype.setSelectionForm=function(){return $(".signup").addClass("hidden"),$(".login").addClass("hidden"),$(".login-selection").removeClass("hidden")},HackerRankLoginView.prototype.togglePassword=function(e){var $currentTarget;return $currentTarget=$(e.currentTarget),"invited-user"===$currentTarget.val()&&$currentTarget.prop("checked")?$(".login-selection .password-input").slideDown(100):$(".login-selection .password-input").slideUp(100)},HackerRankLoginView.prototype.continueWithSelection=function(e){var $currentTarget,that;return e.preventDefault(),$currentTarget=$(e.currentTarget),"logged-in-user"===this.$("input[name=hacker-select]:checked").val()?this.renderCandidateDetailsView():(that=this,$.ajax({url:"/recruit/hackers/check_hacker_login",type:"POST",data:{email:this.possibleHacker.get("email"),password:$("input#selection-password").val()},success:function(_this){return function(response){var $form,error_html;return $form=$("#legacy-selection"),response.status?_this.logoutCurrentHacker(_this.loginInvitedHacker):response.errors.length>1?(error_html="<ul>",_.each(response.errors,function(error){return error_html+="<li>"+error+"</li>"},_this),error_html+="</ul>",$form.find(".error").html(error_html).removeClass("hidden")):$form.find(".error").html(response.errors[0]).removeClass("hidden")}}(this)}))},HackerRankLoginView.prototype.logoutCurrentHacker=function(successCallback){return $.ajax({url:"/auth/logout",type:"DELETE",success:function(_this){return function(response){return response.status?$.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile=new HR.Profile,successCallback.call(_this)}}):void 0}}(this)})},HackerRankLoginView.prototype.loginInvitedHacker=function(){var $button,$form,data;return $button=this.$(".continue-button"),"disabled"!==$button.attr("disabled")?($button=this.$(".continue-button").attr("disabled","disabled"),data={login:this.possibleHacker.get("email"),password:$("input#selection-password").val(),remember_me:!0},$button.html("Logging in..."),$form=$(".login-selection").find("form"),$form.find(".error").addClass("hidden"),$.ajax({type:"POST",url:"/auth/login",data:data,success:function(_this){return function(data){var error_html;return _this.$(".continue-button").attr("disabled",!1),data.status?$.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile=new HR.Profile,HR.hackerProfile.fetch({success:function(model){return model.get("id")?_this.renderCandidateDetailsView():void 0}})}}):(_this.$(".continue-button").html("Continue"),data.errors.length>1?(error_html="<ul>",_.each(data.errors,function(error){return error_html+="<li>"+error+"</li>"},_this),error_html+="</ul>",$form.find(".error").html(error_html).removeClass("hidden")):$form.find(".error").html(data.errors[0]).removeClass("hidden"))}}(this)})):void 0},HackerRankLoginView.prototype.setParamsSignup=function(e){return e.preventDefault(),this.setSignupForm(),this.prefillParamsDetails()},HackerRankLoginView.prototype.setHackerLogin=function(e){return e.preventDefault(),this.setLoginForm(),this.prefillPossibleHackerDetails()},HackerRankLoginView.prototype.renderCandidateDetailsView=function(){return this.parent.shareProfile=this.shareProfile,this.parent.setCandidateDetailsSubview(),this.parent.renderSubview()},HackerRankLoginView.prototype.facebookConnect=function(e){var data,h,left,top,w;return e.preventDefault(),data=e.data,w=600,h=350,left=screen.width/2-w/2,top=screen.height/2-h/2,window.currentView=this,window.login_callback=function(){return $.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile.fetch({success:function(model){return model.get("id")?window.currentView.renderCandidateDetailsView():void 0}})}})},window.open("/hackers/auth/facebook?display=popup&source=hrw","facebook_login","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left)},HackerRankLoginView.prototype.googleConnect=function(e){var data,h,left,top,w;return e.preventDefault(),data=e.data,w=600,h=500,left=screen.width/2-w/2,top=screen.height/2-h/2,window.currentView=this,window.login_callback=function(){return $.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile.fetch({success:function(model){return model.get("id")?window.currentView.renderCandidateDetailsView():void 0}})}})},window.open("/hackers/auth/google_oauth2?display=popup&source=hrw","google_login","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left)},HackerRankLoginView.prototype.githubConnect=function(e){var data,h,left,top,w;return e.preventDefault(),data=e.data,w=960,h=500,left=screen.width/2-w/2,top=screen.height/2-h/2,window.currentView=this,window.login_callback=function(){return $.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile.fetch({success:function(model){return model.get("id")?window.currentView.renderCandidateDetailsView():void 0}})}})},window.open("/hackers/auth/github?display=popup&source=hrw","github_login","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left)},HackerRankLoginView.prototype.showPasswordResetForm=function(e){return e.preventDefault(),this.$(".password-reset-form").slideDown(200),HR.util.heapTrack("[HRW][Login with HR] Forgot Password link clicked",HR&&HR.params&&HR.params.username?{invitedEmail:HR.params.username}:void 0,{testUniqueId:HR.candidate.candidateTestModel.get("unique_id")})},HackerRankLoginView.prototype.showSignupForm=function(e){var $currentTarget;return e.preventDefault(),$currentTarget=$(e.currentTarget),this.$("#legacy-signup").slideDown(200)},HackerRankLoginView.prototype.resetPassword=function(e){var $button,$currentTarget,email;return e.preventDefault(),$currentTarget=$(e.currentTarget),"disabled"!==$currentTarget.attr("disabled")?($currentTarget.attr("disabled","disabled"),$button=$currentTarget.find("input[type=submit]"),$button.val("Sending Request...").attr("disabled","disabled"),email=this.$("#forgot-password-email").val(),$.ajax({url:"/recruit/hackers/forgot_password",type:"POST",data:{email:email},success:function(response){return $button.attr("disabled",!1).val("Reset password"),response.status?($(".forgot-password-message").html("Instructions have been sent to your email account").removeClass("error").removeClass("hidden"),$currentTarget.attr("disabled",!1)):($(".forgot-password-message").html(response.errors[0]).addClass("error").removeClass("hidden"),$currentTarget.attr("disabled",!1))}}),HR.util.heapTrack("[HRW][Login with HR] Reset Password button clicked",HR&&HR.params&&HR.params.username?{invitedEmail:HR.params.username}:void 0,{testUniqueId:HR.candidate.candidateTestModel.get("unique_id")})):void 0},HackerRankLoginView.prototype.loginWithHR=function(e){var $currentTarget,$form,data;return e.preventDefault(),$currentTarget=$(e.currentTarget),"disabled"!==$currentTarget.attr("disabled")?($currentTarget.attr("disabled","disabled"),$currentTarget.html("Logging in..."),$form=$($("body").find(".login-group div#hr-login")),data={login:$form.find("input#login").val(),password:$form.find("input#password").val(),remember_me:!0},$form.find(".error").html("").addClass("hidden"),$.ajax({type:"POST",url:"/auth/login",data:data,success:function(_this){return function(data){var error_html;return $currentTarget.removeAttr("disabled","disabled"),data.status?($(e.currentTarget).html("Logging you in..."),$.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile.fetch({success:function(model){return model.get("id")?(_this.shareProfile=null,_this.renderCandidateDetailsView()):($currentTarget.html("Log In"),$form.find(".error").html("").removeClass("hidden"),$form.find(".error").html("<ul><li>There was an issue logging you in. Please Refresh the page and try again.</li></ul>"))}})},error:function(){return $currentTarget.html("Log In"),$form.find(".error").html("").removeClass("hidden"),$form.find(".error").html("<ul><li>There was an issue logging you in. Please Refresh the page and try again.</li></ul>")}})):($currentTarget.html("Log In"),$form.find(".error").html("").removeClass("hidden"),data.errors.length>1?(error_html="<ul>",_.each(data.errors,function(error){return error_html+="<li>"+error+"</li>"},_this),error_html+="</ul>",$form.find(".error").html(error_html)):$form.find(".error").html(data.errors[0]))}}(this)})):void 0},HackerRankLoginView.prototype.signupOnHR=function(e){var $form,data,email,password;return e.preventDefault(),"disabled"!==$(e.currentTarget).attr("disabled")?($(e.currentTarget).attr("disabled","disabled").addClass("disabled"),$(e.currentTarget).html("Signing up.."),$form=$($("body").find(".login-group div#hr-signup")),email=$form.find("input#email").val(),password=$form.find("input#password").val(),data={email:email,password:password,hash:HR.util.getParameterByName("b")},$.ajax({type:"POST",url:"/x/hacker_signup",data:data,success:function(_this){return function(data){var key,results;if($form.find("input").removeClass("error"),$(e.currentTarget).removeAttr("disabled","disabled"),data.status)return $.ajax({url:"/x/set_csrf_token",type:"GET",success:function(response){return $("meta[name=csrf-token]").attr("content",response.csrf_token),HR.hackerProfile=new HR.Profile,HR.hackerProfile.fetch({success:function(model){return model.get("id")?(_this.shareProfile=!1,_this.renderCandidateDetailsView()):($currentTarget.html("Log In"),$form.find(".error").html("").removeClass("hidden"),$form.find(".error").html("<ul><li>There was an issue logging you in. Please Refresh the page and try again.</li></ul>"))}})},error:function(){return $currentTarget.html("Log In"),$form.find(".error").html("").removeClass("hidden"),$form.find(".error").html("<ul><li>There was an issue logging you in. Please Refresh the page and try again.</li></ul>")}});$form.find("input").removeClass("error"),$(e.currentTarget).html("Sign up"),results=[];for(key in data.fields)0!==data.fields[key].length?($form.find("#"+key).addClass("error"),$("#"+key).attr("data-original-title",data.fields[key].join(",")),results.push($("#"+key).tooltip("show"))):($("#"+key).attr("data-original-title",""),results.push($("#"+key).tooltip("hide")));return results}}(this)})):void 0},HackerRankLoginView.prototype.solveLater=function(e){return e.preventDefault(),this.$(".jscs-solve-later-action-block .slide-one").hide(),this.$(".jscs-solve-later-action-block .slide-two").show()},HackerRankLoginView.prototype.clickSendChallengeButton=function(e){return 13===e.keyCode?this.$("button.get-challenge-link-button").click():void 0},HackerRankLoginView.prototype.sendChallengeLink=function(e){var email_id,email_regex,that;if(!$(e.currentTarget).hasClass("disabled"))return $(e.currentTarget).addClass("disabled"),this.$(".get-challenge-link-success-message").hide(),this.$(".get-challenge-link-failed-message").hide(),email_id=this.$("#js-solve-later-email-address").val(),email_regex=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,email_regex.test(email_id)?(that=this,$.ajax({url:"/recruit/tests/"+this.test.get("unique_id")+"/solve_later",type:"POST",data:{email:email_id},error:function(){return that.$(".get-challenge-link-failed-message-text").html("server error. please try again."),that.$(".get-challenge-link-failed-message").show(),$(e.currentTarget).removeClass("disabled")},success:function(data){return $(e.currentTarget).removeClass("disabled"),data.status?(that.$("#solve-later-email-address-span").text(email_id),that.$("#js-solve-later-email-address").val(""),that.$(".get-challenge-link-success-message").show()):(that.$(".get-challenge-link-failed-message-text").html(data.message||"something went wrong"),that.$(".get-challenge-link-failed-message").show())}})):($(e.currentTarget).removeClass("disabled"),this.$(".get-challenge-link-failed-message-text").html("please enter a valid email address"),this.$(".get-challenge-link-failed-message").show())},HackerRankLoginView}(window.HR.GenericView),HR=window.HR,HR.HackerRankLoginView=HackerRankLoginView})}.call(this),function(){var bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1};jQuery(function(){var HR,RecruitCandidateCodingCodeshellxView;return HR=window.HR||{},RecruitCandidateCodingCodeshellxView=function(superClass){function RecruitCandidateCodingCodeshellxView(){return this.showFaq=bind(this.showFaq,this),this.scrollToStdin=bind(this.scrollToStdin,this),this.submitCodeshellx=bind(this.submitCodeshellx,this),this.runCodeshellx=bind(this.runCodeshellx,this),this.loadCodeshellx=bind(this.loadCodeshellx,this),this.closeNotification=bind(this.closeNotification,this),this.init_codemirror_accessibility=bind(this.init_codemirror_accessibility,this),RecruitCandidateCodingCodeshellxView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateCodingCodeshellxView,superClass),RecruitCandidateCodingCodeshellxView.prototype.template="recruit/question-coding-codeshellx",RecruitCandidateCodingCodeshellxView.prototype.className="question-coding",RecruitCandidateCodingCodeshellxView.prototype.init_codemirror_accessibility=function(){var get_current_content,length,shout,shout_current_content;return length=this.$(".CodeMirror").length,length>0?(shout=function(content){var shouter;return shouter=$("#shouter")[0],$(shouter).val(content),this},get_current_content=function(cm){var content,editor;return editor=cm.getInputField(),content=$(editor).val()},shout_current_content=function(_this){return function(cm){return setTimeout(function(){var content;return content=get_current_content(cm),shout(content)},1),_this}}(this),$(".select2-container input").attr("aria-label","Type the language that you want to code in and press enter"),$(".select2-container input").keydown(function(e){var code_lang,code_lang_obj;13===e.which&&(code_lang_obj=$(".select2-container span")[0],code_lang=code_lang_obj.innerText,shout("Current language is "+code_lang))}),$(".CodeMirror").keydown(function(e){var cm,content,cursor;if(cm=this.CodeMirror,content=get_current_content(cm),e.keyCode>=48&&e.keyCode<=90&&""!==content)return shout_current_content(cm);switch(cursor=cm.getCursor(),content=cm.getLine(cursor.line),e.keyCode){case 8:case 37:case 39:case 46:return content=content.substring(0,cursor.ch),shout(content);case 38:case 40:return""===content&&(content="Empty Line"),shout(content);default:return shout_current_content(cm)}})):setTimeout(function(_this){return function(){return _this.init_codemirror_accessibility(),_this}}(this),100),this},RecruitCandidateCodingCodeshellxView.prototype.initialize=function(options){return window.csx=void 0,this.codeshellx_rendered=!1,this.fullscreen=!1,this.codeBeforeSplit=null,this.parent=options.parent,this.question=options.question,this.test=HR.candidate.candidateTestModel||options.test,window.error_marker_widgets=[],HR.candidate&&HR.candidate.candidateAttemptModel?(this.aid=HR.candidate.candidateAttemptModel.get("id"),HR.appView.saveCodeOnNavigate=!0):this.aid="testing",this.autoSaveNamespace=options.disableLocalStorage&&options.disableLocalStorage===!0?null:this.aid+"-"+this.question.unique_id,this.compilingLock=!1,this._subviews=[],this.init_codemirror_accessibility(),this},RecruitCandidateCodingCodeshellxView.prototype.events={"codeshellcompile #editor":"compileAnswer","click #testcase-dl":"testcaseDownload","click .js-close-notification":"closeNotification","click .js-show-faq":"showFaq","show.bs.modal #faq-modal":"scrollToStdin","click #editor a.fullscreen":"makeSplitView","click #editor a.restorefullscreen":"closeSplitView","run_custom #csx-editor":"runCodeshellx","run_all #csx-editor":"runCodeshellx","codeChanged #csx-editor":"setDirtyView","initialized #csx-editor":"init_codeshellx","refreshBuffer #csx-editor":"resetDirtyView","jsTreeLoaded #csx-editor":"addCustomTestCase","click .ans-submit":"submitCodeshellx"},RecruitCandidateCodingCodeshellxView.prototype.setDirtyView=function(){return HR.appView.dirty=!0},RecruitCandidateCodingCodeshellxView.prototype.resetDirtyView=function(){return HR.appView.dirty=!1},RecruitCandidateCodingCodeshellxView.prototype.addCustomTestCase=function(){return this.customTestCaseAdded?void 0:(this.customTestCaseAdded=!0,this.showCustomInput()?this.$("#csx-editor").trigger("addCustomTestCase"):void 0)},RecruitCandidateCodingCodeshellxView.prototype.closeNotification=function(e){var instruction_tip;return e.preventDefault(),this.$("#editor").codeshell("hideNotification"),instruction_tip=$(".js-instruction-link"),instruction_tip.tooltip("show"),setTimeout(function(){return instruction_tip.tooltip("hide")},3e3)},RecruitCandidateCodingCodeshellxView.prototype._render=function(){return window.csx&&window.csx.initialized?void 0:($(this.el).html(HR.appController.template(this.template,this,!0,function(_this){return function(){return _this.loadCodeshellx()}}(this))({question:this.question,fullscreen:this.fullscreen})),this.show_template=!0,this.question.hide_template&&"true"===this.question.hide_template.toLowerCase()&&(this.show_template=!1),this.test.get("hide_template")&&"true"===this.test.get("hide_template").toLowerCase()&&(this.show_template=!1),this)},RecruitCandidateCodingCodeshellxView.prototype.generateCodeStubs=function(question){var availLangs,codestubs,cshxName,language,ref;codestubs={},availLangs=[],ref=HR.util.codeshellxLangMap;for(language in ref)cshxName=ref[language],cshxName=HR.util.codeshellxLangMap[language],""===cshxName||indexOf.call(question.languages,language)>=0&&(codestubs[cshxName]={head:question[language+"_template_head"],body:question[language+"_template"],tail:question[language+"_template_tail"]},availLangs.push(cshxName));return{codeStubs:codestubs,availableLangs:availLangs}},RecruitCandidateCodingCodeshellxView.prototype.loadCodeshellx=function(){var config,languageDetails;if(!window.csx||window.csx.initialized!==!0)return codeshellx.OutputView=function(superClass1){function OutputView(){return OutputView.__super__.constructor.apply(this,arguments)}var className;return extend(OutputView,superClass1),className="OutputView",OutputView.prototype.template='<div id="io_runstatus"></div>',OutputView.prototype.listeners={setOpViewStatus:"setStatus",setOpViewCompileStatus:"setCompileStatus",setOpSuccessfulCompileStatus:"setSuccessfulCompileStatus",setOpTestMessage:"setTestMessage",setOpCoverageMessage:"setCoverageMessage",addOpTestCase:"addTestCase",ctrenderOpView:"ctrender"},OutputView.prototype._initialize=function(){return this.ctView=new HR.RecruitCandidateCompileTestView,this.content="",this.presetContent=$("#runstatus .ct-base").html()||"",this},OutputView.prototype.set_state=function(state){return this.ctrender(),this.$("#io_runstatus").html(state)},OutputView.prototype.get_state=function(){return this.$("#io_runstatus").html()},OutputView.prototype.empty_element=function(){return this.set_state("")},OutputView.prototype.setStatus=function(e,s,additional_class){return null==additional_class&&(additional_class=""),this.ctView.setStatus(s,additional_class)},OutputView.prototype.setCompileStatus=function(e,title,message){return this.ctView.setCompileStatus(title,message)},OutputView.prototype.setSuccessfulCompileStatus=function(e,title,message){return this.ctView.setSuccessfulCompileStatus(title,message)},OutputView.prototype.setTestMessage=function(e,title,message){return codeshellx.debug("Test message is: ",e,title,message),this.ctView.setTestMessage(title,message)},OutputView.prototype.setCoverageMessage=function(e,title,message){return this.ctView.setCoverageMessage(title,message)},OutputView.prototype.addTestCase=function(e,tno,input,output,output_debug,exp_output,compiler_msg,censored_stderr,st_class,score,output_label){return null==output_label&&(output_label="Your Output"),this.ctView.addTestCase(tno,input,output,output_debug,exp_output,compiler_msg,censored_stderr,st_class,score,output_label)},OutputView.prototype.render=function(){return this.$el.html(this.template),this.ctView.setElement(this.$("#io_runstatus")),this.presetContent?setTimeout(function(_this){return function(){return _this.set_state(_this.presetContent)}}(this),100):void 0},OutputView.prototype.ctrender=function(){return this.ctView.setElement(this.$("#io_runstatus")).render()},OutputView}(codeshellx.BaseView),languageDetails=this.generateCodeStubs(this.question),config={multifile:!1,codeStubs:languageDetails.codeStubs,availableLanguages:languageDetails.availableLangs,menu:{file_menu:!1,run_menu:["all","custom"],submit:!1},plugins:[{title:"History",position:"right",type:"HistoryManagerView",data:{logger_server_token:HR.candidate.candidateAttemptModel.get("logger_server_token"),logger_server_url:HR.candidate.candidateAttemptModel.get("logger_server")}}],uid:HR.candidate.candidateAttemptModel.get("id")+HR.candidate.questionView.model.get("unique_id")},$("#csx-editor").on("initialized",function(_this){return function(){return _this.loadTestCasesInCsx()}}(this)),window.csx=new codeshellx.CodeEditor("csx-editor",config),this.insideCompileTestName="InsideCompiletestView",$("#csx-editor").on("full_screen",function(_this){return function(){return window.isFullscreen?(window.csx.removePlugin("QuestionFullScreenView"),window.csx.removePlugin("InsideCompiletestView"),window.isFullscreen=!1):(window.csx.addPlugin({data:{content:_this.question.question,identifier:"QuestionFullScreenView"},type:"TextContentView",title:"Question",position:"left"}),window.csx.addPlugin({data:{identifier:_this.insideCompileTestName},type:"OutputView",title:"Output",position:"right"}),window.isFullscreen=!0)}}(this))},RecruitCandidateCodingCodeshellxView.prototype.runCodeshellx=function(e){var c_data,customFile,data;return data=window.csx.registry.get("activeCodeBuffer").getCode(),c_data={},c_data.code=data.body,c_data.language=data.language,"run_custom"===e.type&&(c_data.customtestcase=!0,customFile=window.csx.registry.get("files")[window.csx.registry.get("customTestCaseFile")],c_data.custominput=customFile.file_data.codeStubs.Plain.body),HR.appView.dirty=!1,this.compileAnswer(e,c_data)},RecruitCandidateCodingCodeshellxView.prototype.submitCodeshellx=function(){return this.$("#csx-editor").trigger("submit")},RecruitCandidateCodingCodeshellxView.prototype.scrollToStdin=function(){return setTimeout(function(){return this.$("#faq-modal .modal-body .js-content-tabfaq").animate({scrollTop:900})},500)},RecruitCandidateCodingCodeshellxView.prototype.showFaq=function(e){var faq_modal,faq_view;return e.preventDefault(),faq_view=new HR.RecruitInfoView({test:this.test,public_url:!1,subpage:"faq",in_modal:!0,scroll_to:"#stdin"}),this._subviews.push(faq_view),faq_modal=this.$("#faq-modal"),faq_modal.find(".modal-body").html(faq_view.render().el),faq_modal.modal("show")},RecruitCandidateCodingCodeshellxView.prototype.testcaseDownload=function(){var url;return url="/recruit/attempts/"+HR.candidate.candidateAttemptModel.id+"/questions/"+this.question.unique_id+"/testcases",HR.util.downloadURL(url)},RecruitCandidateCodingCodeshellxView.prototype.loadTestCasesInCsx=function(){var request_params,url;return url="/recruit/attempts/"+HR.candidate.candidateAttemptModel.id+"/questions/"+this.question.unique_id+"/sample_testcases",request_params={url:url,type:"GET",success:function(_this){return function(xhr){return _.each(xhr.model.input,function(input,index){var output;return output=xhr.model.output[index],_this.$("#csx-editor").trigger("addTestCase",[index,input,output])})}}(this),error:function(){return function(xhr){return console.error("Unable to fetch sample testcases.. : ",xhr.message)}}(this)},$.ajax(request_params)},RecruitCandidateCodingCodeshellxView.prototype.setPinnedHeader=function(){return this.checkPinnedHeader()?(this.parent.$(".js-pinheader").html("<a class='btn js-btnpin' data-pin='True' title='Pin/unpin the Run and Submit code buttons below'><i class='icon--single icon-cancel-small'></i> Unpin code header/footer</a>"),setTimeout(function(){return function(){return HR.util.fixedDiv("questions",".codeshell",[70,window.innerHeight-65],!0,window),$(".codeshell-footer").css("border-top","#bbb 1px solid")}}(this),1e3),$(window).bind("resize",function(_this){return function(){return _this.render()}}(this))):($(window).unbind("scroll"),$(window).unbind("resize"),this.parent.$(".js-pinheader").html("<a class='btn js-btnpin' data-pin='False' title='Pin/unpin the Run and Submit code buttons below'><i class='icon--single icon-pencil'></i> Pin code header/footer</a>")),$(".js-pinheader").live("click",function(_this){return function(e){var noPin;return noPin=e.srcElement.attributes["data-pin"].value,"True"===noPin&&$(window).unbind("scroll"),$.jStorage.set("noPin",noPin),_this.render()}}(this))},RecruitCandidateCodingCodeshellxView.prototype.checkPinnedHeader=function(){var pinnedHeader;return"True"===this.test.get("enable_codefixedheader")?(this.parent.$(".js-pinheader").removeClass("hidden"),pinnedHeader=!0,"True"===$.jStorage.get("noPin")&&(pinnedHeader=!1)):pinnedHeader=!1,pinnedHeader},RecruitCandidateCodingCodeshellxView.prototype.showCustomInput=function(){return _.include(["approx","database"],this.question.type)?!1:this.question.custom_testcase_allowed&&"False"===this.question.custom_testcase_allowed?!1:!0},RecruitCandidateCodingCodeshellxView.prototype.compileAnswer=function(e,data){var language;if(data.code)return language=data.language,_.find(HR.util.codeshellxLangMap,function(v,k){return v===language?(language=k,!0):!1}),data.language=language,this.deleteMarkersOnSource(null,null,language,"solution"),HR.candidate.ctmodel=new HR.CandidateCompileTestModel,HR.candidate.ctmodel.setAid(this.aid),HR.candidate.ctmodel.setQid(this.question.unique_id),("database"===this.question.type||"runalltestcases"===e)&&HR.candidate.ctmodel.setAllCases(!0),this.question.has_samples||data.customtestcase||HR.candidate.ctmodel.setAllCases(!0),HR.candidate.ctview=new HR.RecruitCandidateCompileTestView,this.$("#runstatus").html(HR.candidate.ctview.render().el),this.$("#csx-editor").trigger("ctrenderOpView"),this.fullscreen?this.$("#runstatus")[0].scrollIntoView():HR.util.scrollToBottom(1e3),HR.candidate.ctmodel.save(data,{success:function(_this){return function(){return HR.candidate.ctview.setStatus("Uploaded. Waiting for results.."),_this.$("#csx-editor").trigger("setOpViewStatus",["Uploaded. Waiting for results.."]),HR.candidate.ctloop=setTimeout(function(){return _this.checkForResult(_this,data,e)
},2e3)}}(this),error:function(_this){return function(tmp,e){var msg;return $(".bb-compile").removeClass("disabled"),HR.candidate.ctmodel=null,e&&e.responseText&&(msg=JSON.parse(e.responseText).error)?(HR.candidate.ctview.setStatus("Error when trying to compile and test: "+msg),_this.$("#csx-editor").trigger("setOpViewStatus",["Error when trying to compile and test: "+msg])):(HR.candidate.ctview.setStatus("Could not compile as server is unreachable, or this session has closed."),_this.$("#csx-editor").trigger("setOpViewStatus",["Could not compile as server is unreachable, or this session has closed."]))}}(this)})},RecruitCandidateCodingCodeshellxView.prototype.checkForResult=function(that,data,e,liveStatus){return null==liveStatus&&(liveStatus=null),HR.candidate.ctloop?(HR.candidate.ctview.setStatus(liveStatus?liveStatus:"Processing.."),this.$("#csx-editor").trigger("setOpViewStatus",liveStatus?liveStatus:"Processing.."),HR.candidate.ctmodel.fetch({success:function(_this){return function(m){var censored_stderr,expected_output,i,input,j,len,msg,output,output_debug,pass,ref,score,st_class,status_msg,stderr,testcase_label,testcase_no;if(0===m.get("status"))return liveStatus=m.get("status_string")?m.get("status_string"):null,HR.candidate.ctloop=setTimeout(function(){return that.checkForResult(that,data,e,liveStatus)},2e3),void 0;if(0!==m.get("status"))if($(".bb-compile").removeClass("disabled"),clearTimeout(HR.candidate.ctloop),HR.candidate.ctloop=null,m.get("result")>0)"database"===_this.question.type?(HR.candidate.ctview.setStatus("Runtime Error","red"),_this.$("#csx-editor").trigger("setOpViewStatus",["Runtime Error","red"])):(HR.candidate.ctview.setStatus("Error.","red"),_this.$("#csx-editor").trigger("setOpViewStatus",["Error.","red"])),HR.candidate.ctview.setCompileStatus("Compilation failed.",m.get("compilemessage")),_this.$("#csx-editor").trigger("setOpViewCompileStatus",["Compilation failed.",m.get("compilemessage")]),that.addMarkersOnSource(m,data.language);else if(null!=m.get("error_code")&&m.get("error_code")>0)HR.candidate.ctview.setStatus("Alert","red"),_this.$("#csx-editor").trigger("setOpViewStatus",["Alert","red"]),HR.candidate.ctview.setTestMessage("Message :","Looks like something went wrong on our end (error "+m.get("error_code")+").\nPlease try again."),_this.$("#csx-editor").trigger("setOpTestMessage",["Message :",{message:"Looks like something went wrong on our end (error "+m.get("error_code")+").\nPlease try again."}]);else if(pass=0,m.get("customtestcase"))HR.candidate.ctview.setStatus("Compiled successfully.","orange"),_this.$("#csx-editor").trigger("setOpViewStatus",["Compiled successfully.","orange"]),input=m.get("stdin")[0],output=m.get("stdout")[0],output_debug=m.get("stdout_debug")?m.get("stdout_debug")[0]:null,stderr=m.get("stderr")?m.get("stderr")[i]:null,censored_stderr=null!=stderr?stderr:m.get("censored_stderr")?m.get("censored_stderr")[0]:null,m.get("signal")&&0!==m.get("signal")[0]&&m.get("testcase_message")&&m.get("testcase_message")[0]?(msg=m.get("testcase_message"),st_class="red"):(msg="",st_class="green"),HR.candidate.ctview.addTestCase(1,input,output,output_debug,null,msg,censored_stderr,st_class,score),_this.$("#csx-editor").trigger("addOpTestCase",[1,input,output,output_debug,null,msg,censored_stderr,st_class,score]);else{for(ref=m.get("testcase_status"),i=j=0,len=ref.length;len>j;i=++j)input=ref[i],output=m.get("stdout")[i],expected_output=m.get("expected_output")[i],output_debug=m.get("stdout_debug")?m.get("stdout_debug")[i]:null,stderr=m.get("stderr")?m.get("stderr")[i]:null,censored_stderr=null!=stderr?stderr:m.get("censored_stderr")?m.get("censored_stderr")[i]:null,msg=m.get("testcase_message")[i],1===m.get("testcase_status")[i]?(st_class="txt-green",pass++):st_class="txt-orange",m.get("score")&&_.isNumber(m.get("score")[i])&&(score=m.get("score")[i]),"database"===_this.question.type?(testcase_no=null,testcase_label="Output <i class='icon-help-circled txt-blue psT psB psL js-tooltip' data-toggle='tooltip' data-placement='right' title='The output from SQL server is shown as one row per line and column values separated by space'></i>\n<span class='pull-right'>Query time: "+Math.round(100*m.get("time")[0])/100+" seconds</span>",st_class="hidden"):(testcase_no=i+1,testcase_label="Your Output"),HR.candidate.ctview.addTestCase(testcase_no,input,output,output_debug,expected_output,msg,censored_stderr,st_class,score,testcase_label),_this.$("#csx-editor").trigger("addOpTestCase",[testcase_no,input,output,output_debug,expected_output,msg,censored_stderr,st_class,score,testcase_label]);0===m.get("testcase_status").length?(msg="Compiled successfully. There are no test cases for this question.",_this.showCustomInput()&&(msg+=" Please select 'Test against custom input' to run the code with your input."),HR.candidate.ctview.setStatus(msg,"orange"),_this.$("#csx-editor").trigger("setOpViewStatus",[msg,"orange"])):0===pass?(status_msg="database"===_this.question.type?m.get("signal")&&0!==m.get("signal")[0]&&m.get("testcase_message")&&m.get("testcase_message")[0]?m.get("testcase_message")[0]:"Incorrect Answer":"No test cases passed.",HR.candidate.ctview.setStatus(status_msg,"red"),_this.$("#csx-editor").trigger("setOpViewStatus",[status_msg,"red"])):i>pass?"runalltestcases"===e?(HR.candidate.ctview.setStatus("Compiled successfully. "+pass+"/"+i+" test cases passed.","orange"),_this.$("#csx-editor").trigger("setOpViewStatus",["Compiled successfully. "+pass+"/"+i+" test cases passed.","orange"])):(HR.candidate.ctview.setStatus("Compiled successfully. "+pass+"/"+i+" sample test cases passed.","orange"),_this.$("#csx-editor").trigger("setOpViewStatus",["Compiled successfully. "+pass+"/"+i+" sample test cases passed.","orange"])):"runalltestcases"!==e?(HR.candidate.ctview.setStatus("Compiled successfully. All sample test cases passed!","green"),_this.$("#csx-editor").trigger("setOpViewStatus",["Compiled successfully. All sample test cases passed!","green"]),_this.$(".bb-runall").show(),that.compileAnswer("runalltestcases",data)):(status_msg="database"===_this.question.type?"Correct Answer":"Compiled successfully. All available test cases passed!",HR.candidate.ctview.setStatus(status_msg,"green"),_this.$("#csx-editor").trigger("setOpViewStatus",[status_msg,"green"]))}return HR.util.scrollToBottom(1e3)}}(this),error:function(_this){return function(){return HR.candidate.ctmodel=null,$(".bb-compile").removeClass("disabled"),HR.candidate.ctview.setStatus("Unable to fetch compile information from server."),_this.$("#csx-editor").trigger("setOpViewStatus",["Unable to fetch compile information from server."])}}(this)})):void 0},RecruitCandidateCodingCodeshellxView.prototype.answer=function(){var codeBuffer,language;return codeBuffer=window.csx.registry.get("activeCodeBuffer").getCode(),language=HR.util.hrwLang(codeBuffer.language),{code:codeBuffer.body,language:language}},RecruitCandidateCodingCodeshellxView.prototype.set_answer=function(){return this.$("#csx-editor").trigger("restoreLastSave"),this.codeBeforeSplit?(this.$("#editor").codeshell("setValue",this.codeBeforeSplit),this.codeBeforeSplit=null):this.question.solve?this.$("#editor").codeshell("setValue",this.question.solve.answer):void 0},RecruitCandidateCodingCodeshellxView.prototype.checkCopyPaste=function(change){var added_text;if(this.setDefaultText&&(added_text=change.text.join(""),added_text!==this.lastAddedText))return this.lastAddedText=added_text,"paste"===change.origin&&added_text.length>100?HR.candidate.secureActivity.add({action:"paste",eid:9,qid:this.question.unique_id,insertTime:new Date}):void 0},RecruitCandidateCodingCodeshellxView.prototype.addMarkersOnSource=function(data,language){var error_markers,line_offset,markers;if(data.get("error_markers"))return error_markers=data.get("error_markers"),line_offset=error_markers.head_code_lines,markers=error_markers.markers,language=HR.util.codeshellxLangMap[data.get("language")],this.$("#csx-editor").trigger("addMarkers",[markers,"/solution",language])},RecruitCandidateCodingCodeshellxView.prototype.deleteMarkersOnSource=function(e,change){return e&&change&&HR.candidate&&HR.candidate.candidateAttemptModel&&"True"===HR.candidate.candidateAttemptModel.get("secure")&&this.checkCopyPaste(change),this.$("#csx-editor").trigger("clearMarkers","/solution")},RecruitCandidateCodingCodeshellxView.prototype.init_codeshellx=function(){return this.$("#csx-editor").trigger("restoreLastSave")},RecruitCandidateCodingCodeshellxView}(window.HR.GenericView),HR.RecruitCandidateCodingCodeshellxView=RecruitCandidateCodingCodeshellxView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;$(function(){var RecruitCandidateSubjectiveCSXView;return RecruitCandidateSubjectiveCSXView=function(superClass){function RecruitCandidateSubjectiveCSXView(){return RecruitCandidateSubjectiveCSXView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateSubjectiveCSXView,superClass),RecruitCandidateSubjectiveCSXView.prototype.template='<h5 class="">ANSWER</h5>\n<div id="csx-editor" class="codeshell msT mlB"></div>',RecruitCandidateSubjectiveCSXView.prototype.className="question-subjective",RecruitCandidateSubjectiveCSXView.prototype.initialize=function(options){return this.question=options.question,HR.candidate&&HR.candidate.candidateAttemptModel?(this.aid=HR.candidate.candidateAttemptModel.get("id"),this.autoSaveNamespace=this.aid+"-"+this.question.unique_id,HR.appView.saveCodeOnNavigate=!0):(this.aid="testing",this.autoSaveNamespace=null)},RecruitCandidateSubjectiveCSXView.prototype.render=function(){return $(this.el).html(this.template),HR.appController.loadCodeMirror(function(_this){return function(){return _this.applyCodeshell(),_this.set_answer(),_this.$("#editor").codeshell("onChange",function(e,change){return"setValue"!==change.origin&&"testing"!==_this.aid?window.HR.appView.dirty=!0:void 0})}}(this)),this},RecruitCandidateSubjectiveCSXView.prototype.applyCodeshell=function(){var opts;return opts={languages:["text"],defaultLanguage:"text",autoSaveNamespace:this.autoSaveNamespace,showSubmit:!1,showCompileTest:!1,dynamicMode:!0,showCustomInput:!1,loadmode:function(){return function(e,data){return data.callback()}}(this)},this.$("#editor").codeshell(opts),this.$("#editor").codeshell("refresh"),this.$("#editor").codeshell("onChange",function(_this){return function(e,change){return e&&change&&HR.candidate&&HR.candidate.candidateAttemptModel&&"True"===HR.candidate.candidateAttemptModel.get("secure")?_this.checkCopyPaste(change):void 0}}(this))},RecruitCandidateSubjectiveCSXView.prototype.checkCopyPaste=function(change){var added_text;return added_text=change.text.join(""),added_text!==this.lastAddedText?(this.lastAddedText=added_text,"paste"===change.origin&&added_text.length>50?HR.candidate.secureActivity.add({action:"paste",eid:9,qid:this.question.unique_id,insertTime:new Date}):void 0):void 0},RecruitCandidateSubjectiveCSXView.prototype.answer=function(){return this.$("#editor").codeshell("value")},RecruitCandidateSubjectiveCSXView.prototype.set_answer=function(){return this.question.solve?this.$("#editor").codeshell("setValue",{code:this.question.solve.answer.answer,language:"text"}):void 0},RecruitCandidateSubjectiveCSXView}(window.HR.GenericView)})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitAwaitingServerView,ref;return RecruitAwaitingServerView=function(superClass){function RecruitAwaitingServerView(){return RecruitAwaitingServerView.__super__.constructor.apply(this,arguments)}return extend(RecruitAwaitingServerView,superClass),RecruitAwaitingServerView.prototype.template="recruit/awaitingserver",RecruitAwaitingServerView.prototype.className="candidate-awaiting",RecruitAwaitingServerView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({test:HR.candidate.candidateTestModel.toJSON()})),clearTimeout(window.checkLoop),window.checkLoop=setTimeout(function(){return function(){return HR.router.navigate(HR.candidate.candidateTestModel.get("unique_id")+"/redirect",{trigger:!0,replace:!0})}}(this),2e4),this},RecruitAwaitingServerView}(window.HR.GenericView),HR=null!=(ref=window.HR)?ref:{},HR.RecruitAwaitingServerView=RecruitAwaitingServerView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitCandidateLoginView,ref;return RecruitCandidateLoginView=function(superClass){function RecruitCandidateLoginView(){return RecruitCandidateLoginView.__super__.constructor.apply(this,arguments)}return extend(RecruitCandidateLoginView,superClass),RecruitCandidateLoginView.prototype.template="recruit/candidate-login",RecruitCandidateLoginView.prototype.className="candidate-login",RecruitCandidateLoginView.prototype.subView="hr-login",RecruitCandidateLoginView.prototype.heapEventSent=!1,RecruitCandidateLoginView.prototype.subViewsHash={"hr-login":window.HR.HackerRankLoginView,"candidate-details":window.HR.RecruitCandidateDetailsView},RecruitCandidateLoginView.prototype.LOADED_BEGIN=0,RecruitCandidateLoginView.prototype.LOADED_TEMPLATES=1,RecruitCandidateLoginView.prototype.LOADED_CODEMIRROR=2,RecruitCandidateLoginView.prototype.LOADED_DONE=3,RecruitCandidateLoginView.prototype.events={"click .test-submit-feedback":"submitFeedback","click .skip-feedback":"skipFeedback","click .fblogin":"loginToFB","blur input.error":"removeError","click a.follow-company":"followUnfollowCompany","click a.unfollow-company":"followUnfollowCompany"},RecruitCandidateLoginView.prototype.initialize=function(){return this.shareProfile=null,this._prefillDetails=!0},RecruitCandidateLoginView.prototype._render=function(){var loader;return loader=HR.appController.templateOnSteroids(this.template,this),loader&&$(this.el).html(loader),this},RecruitCandidateLoginView.prototype._applyTemplate=function(){var content;return content=this._template({test:this.model.attributes,attempt:HR.candidate.candidateAttemptModel}),$(this.el).html(content),this.postApplyTemplate(),this},RecruitCandidateLoginView.prototype.postApplyTemplate=function(){var $err,candidate_redirect;return setTimeout(function(_this){return function(){return _this.model.get("logged_in")?_this.shouldShowFollowBadge()?(_this.showFollowLoader(),_this.initiateModels(),_this.fetchSubviewData()):void 0:_this.setSubView()}}(this)),HR.util.isUnsupportedDevice()&&(this.$(".sub-view-container").addClass("hidden"),$err=this.$(".js-error"),$err.find("header").html("Unsupported device"),$err.find("p").html("This test cannot be taken on this device. Please take this test from a computer with the latest version of any modern browser."),$err.addClass("error"),$err.removeClass("hide")),"True"===this.model.get("secure")&&HR.util.isSafari()&&(this.$(".sub-view-container").addClass("hidden"),$err=this.$(".js-error"),$err.find("header").html("Unsupported browser"),$err.find("p").html("This test uses browser features that are not supported in Safari. Please use the latest version of Chrome, Firefox or Internet Explorer to take the test."),$err.addClass("error"),$err.removeClass("hide")),this.model.get("facebook_login")&&!window.fbAdded&&(window.fbAdded=!0,$.getScript("/assets/fb.js")),this.model.get("logged_in")&&this.model.get("attempt_done")&&(this.model.get("test_finish_url")?this.$(".main-content").removeClass("white-grid-block"):setTimeout(function(_this){return function(){return _this.$(".main-content").addClass("customer-feedback-box")}}(this))),$(this.el).find("div.gray").length>0?setTimeout(function(_this){return function(){return _this.render()}}(this),700):this.model.get("logged_in")&&this.model.get("attempt_done")&&this.model.get("test_finish_url")&&(this.redirectTimer&&clearInterval(this.redirectTimer),candidate_redirect=function(_this){return function(){var seconds;return seconds=parseInt(_this.$(".js-redirect-seconds").html(),10),seconds-=1,seconds>0?_this.$(".js-redirect-seconds").html(String(seconds)+" "+pluralize("second",seconds)):(clearInterval(_this.redirectTimer),HR.logoutAttempt(),window.location.href=_this.model.get("test_finish_url"))}}(this),this.redirectTimer=setInterval(function(){return candidate_redirect()},1e3)),this},RecruitCandidateLoginView.prototype.isHRCandidateLogin=function(){return this.model.get("hr_candidate_login")},RecruitCandidateLoginView.prototype.isCandidateAuthenticated=function(){return HR&&HR.params&&HR.params.username&&HR.params.password},RecruitCandidateLoginView.prototype.isPublicLink=function(){return this.model.get("auth_valid")&&!(HR&&HR.params&&HR.params.trytest)},RecruitCandidateLoginView.prototype.shouldShowHackerRankLogin=function(){return this.isHRCandidateLogin()&&(this.isCandidateAuthenticated()||this.isPublicLink())},RecruitCandidateLoginView.prototype.shouldShowFollowBadge=function(){return this.isHRCandidateLogin()&&this.isHackerAssociated()&&this.isHackerRankCompanyAssociated()},RecruitCandidateLoginView.prototype.isHackerRankCompanyAssociated=function(){return HR.candidate&&HR.candidate.candidateTestModel&&HR.candidate.candidateTestModel.get("hr_company_id")},RecruitCandidateLoginView.prototype.isHackerAssociated=function(){return HR.candidate&&HR.candidate.candidateAttemptModel&&HR.candidate.candidateAttemptModel.get("hacker_associated")},RecruitCandidateLoginView.prototype.setSubView=function(){return this.initiateModels(),this.shouldShowHackerRankLogin()?this.fetchSubviewData():(this.setCandidateDetailsSubview(),this.renderSubview())},RecruitCandidateLoginView.prototype.setCandidateDetailsSubview=function(){return this.subView="candidate-details"},RecruitCandidateLoginView.prototype.setHRLoginSubview=function(){return this.subView="hr-login"},RecruitCandidateLoginView.prototype.isAuthenticatedEmail=function(){return this.model.get("auth_valid")||HR.hackerProfile.emails().indexOf(HR.params.username)>-1},RecruitCandidateLoginView.prototype.checkHackerEmailAndSetView=function(){return this.isAuthenticatedEmail()?(this.setCandidateDetailsSubview(),this.renderSubview(),this.heapEventSent?void 0:(this.heapEventSent=!0,this.model.get("auth_valid")?HR.util.heapTrack("[HRW][Login with HR] Hacker Logged in and public link used",{invitedEmail:HR.hackerProfile.get("email"),testUniqueId:HR.candidate.candidateTestModel.get("unique_id")}):HR.util.heapTrack("[HRW][Login with HR] Hacker Logged in with same email as invited",{invitedEmail:HR.hackerProfile.get("email"),testUniqueId:HR.candidate.candidateTestModel.get("unique_id")}))):(this.setHRLoginSubview(),this.checkHackerWithAuthEmail())},RecruitCandidateLoginView.prototype.checkHackerWithAuthEmail=function(){var possibleHacker;return possibleHacker=new HR.Profile,HR&&HR.params&&HR.params.username?(possibleHacker=new HR.Profile,possibleHacker.set("email",HR.params.username),possibleHacker.setAction("find_by_email"),possibleHacker.fetch({success:function(_this){return function(model){return model.get("id")?model.get("id")===HR.hackerProfile.get("id")?_this.setCandidateDetailsSubview():_this.setHRLoginSubview():_this.isHackerLoggedIn(HR.hackerProfile)&&_this.setCandidateDetailsSubview(),_this.renderSubview({possibleHacker:model})}}(this)})):(this.setHRLoginSubview(),this.renderSubview({possibleHacker:possibleHacker}),void 0)},RecruitCandidateLoginView.prototype.isHackerLoggedIn=function(model){return model.get("id")},RecruitCandidateLoginView.prototype.fetchSubviewData=function(){return HR.hackerProfile.fetch({success:function(_this){return function(hackerModel){return _this.model.get("attempt_done")?(HR.company.setTestHash(_this.model.get("unique_id")),HR.company.setAttemptId(HR.candidate.candidateAttemptModel.get("id")),HR.company.fetch({success:function(model){return model.get("followed_by_hacker")?_this.setFollowContainer():(model.set("followed_by_hacker",!0),_this.followUnfollowCompany())},error:function(){return _this.hideFollowLoader()}})):_this.isHackerLoggedIn(hackerModel)?_this.checkHackerEmailAndSetView():(_this.setHRLoginSubview(),_this.checkHackerWithAuthEmail())}}(this)})},RecruitCandidateLoginView.prototype.addSecondaryEmail=function(e){var $container,$currentTarget,email;return e.preventDefault(),$currentTarget=$(e.currentTarget),email=$currentTarget.data("email"),$container=$(".email-secondary-container"),$.ajax({url:"/recruit/hackers/"+HR.hackerProfile.get("id"),type:"PUT",data:{email:email},success:function(response){return response.status?$container.html(email+" has been added as a secondary email to your HackerRank account"):console.log("failed")}})},RecruitCandidateLoginView.prototype.initiateModels=function(){return HR.hackerProfile=new HR.Profile,HR.company=new HR.CompanyModel},RecruitCandidateLoginView.prototype.showFollowLoader=function(){return this.$(".follow-loader").removeClass("hidden")},RecruitCandidateLoginView.prototype.hideFollowLoader=function(){return this.$(".follow-loader").addClass("hidden")},RecruitCandidateLoginView.prototype.setFollowContainer=function(){return this.hideFollowLoader(),$("a.unfollow-company").on("mouseenter",function(){return $(this).html("Unfollow").addClass("btn-alert")}).on("mouseleave",function(){return $(this).html("Following").removeClass("btn-alert")}),this.isHackerLoggedIn(HR.hackerProfile)?(HR.company.get("followed_by_hacker")?($(".follow-container a.unfollow-company").html("Following").removeClass("hidden"),$(".follow-container a.follow-company").addClass("hidden"),$(".follow-container span.following-text").removeClass("hidden").addClass("fnt-wt-500").html("You are now following "+this.companyLink())):($(".follow-container a.follow-company").html("Follow").removeClass("hidden"),$(".follow-container a.unfollow-company").addClass("hidden"),$(".follow-container span.following-text").removeClass("hidden").html("Follow "+this.companyLink()+" to get the latest updates about new challenges")),$(".follow-container").removeClass("hidden")):!1},RecruitCandidateLoginView.prototype.companyLink=function(){return HR.company.get("id")?HR.company.get("public")?"<a href=/companies/"+HR.company.get("slug")+" target='_blank'>"+HR.company.get("name")+"</a>":HR.company.get("name"):"Company"},RecruitCandidateLoginView.prototype.renderSubview=function(options){var ref,view;return null==options&&(options={}),view=new this.subViewsHash[this.subView]({test:this.model,parent:this,possibleHacker:null!=(ref=options.possibleHacker)?ref:new HR.Profile,shareProfile:this.shareProfile}),this.add_subview(view),this.$(".sub-view-container").html(view.render().el)},RecruitCandidateLoginView.prototype.followUnfollowCompany=function(e){return e&&(e.preventDefault(),HR.util.inlineLoadingStart($(e.currentTarget))),$.ajax({url:"/recruit/companies/"+HR.company.get("id")+"/follow",type:"PUT",data:{attempt_id:HR.candidate.candidateAttemptModel.get("id")},success:function(_this){return function(response){return HR.company.set("followed_by_hacker",response.followed_by_hacker),HR.util.inlineLoadingEnd({}),setTimeout(function(){return _this.setFollowContainer()},200)}}(this),error:function(_this){return function(){return HR.util.inlineLoadingEnd({}),_this.$(".follow-container-error").addClass("error").removeClass("hidden").html("Something went wrong")}}(this)})},RecruitCandidateLoginView.prototype._setLoadingState=function(state,error){return null==error&&(error=null),window._errs.meta||(window._errs.meta={}),window._errs.meta.preloadstate="state:"+state+", error:"+error},RecruitCandidateLoginView.prototype.preloadTest=function(){var _tmp,codemirrorlangs,files,langloaderr,templatefilekeys;return HR.candidate.loadTryCount+=1,langloaderr=!1,HR.MANIFEST&&_.keys(HR.MANIFEST).length>0?(this._setLoadingState(this.LOADED_BEGIN),files=_.keys(HR.MANIFEST),_tmp=_.select(files,function(file){return file.startsWith("backbone/templates/recruit/")}),templatefilekeys=_.map(_tmp,function(f){return f.replace(".js","")}),codemirrorlangs=["c","cpp","java","csharp","php","python","ruby","javascript","perl","h askell","scala","clojure","go","erlang","groovy","java8","oracle","cobol","visualbasi c","r","octave"],HR.requires(templatefilekeys,function(_this){return function(){return _this._setLoadingState(_this.LOADED_TEMPLATES),HR.appController.loadCodeMirror(function(){var i,lang,len;for(_this._setLoadingState(_this.LOADED_CODEMIRROR),i=0,len=codemirrorlangs.length;len>i;i++)lang=codemirrorlangs[i],HR.appController.loadCodeMirrorMode(lang,function(e){return e?(langloaderr=!0,_this._setLoadingState(_this.LOADED_DONE,"lang load issue"),HR.preload(_this)):void 0});return setTimeout(function(){return langloaderr?void 0:_this._setLoadingState(_this.LOADED_DONE)},1e4)},function(){return _this._setLoadingState(_this.LOADED_TEMPLATES,"codemirror load issue"),HR.preload(_this)})}}(this),function(_this){return function(){return _this._setLoadingState(_this.LOADED_TEMPLATES,"template load issue"),HR.preload(_this)}}(this))):this._setLoadingState(this.LOADED_DONE)},RecruitCandidateLoginView.prototype.skipFeedback=function(e){return e.preventDefault(),$.jStorage.set("feedback_skipped_"+HR.candidate.candidateTestModel.get("attempt"),!0),HR.router.navigate(HR.candidate.candidateTestModel.get("unique_id")+"/feedback/done",{trigger:!0,replace:!0})},RecruitCandidateLoginView.prototype.submitFeedback=function(){var data;return this.disableButton("test-submit-feedback"),data={},HR.candidate.candidateAttemptModel.set("feedback_text",this.$(".feedback-text").val()),HR.candidate.candidateAttemptModel.save(data,{success:function(){return HR.router.navigate(HR.candidate.candidateTestModel.get("unique_id")+"/feedback/done",{trigger:!0,replace:!0})},error:function(_this){return function(){return _this.enableButton("test-submit-feedback")}}(this)})},RecruitCandidateLoginView.prototype.disableButton=function(cssClass){return this.$("button."+cssClass).attr("disabled",!0).addClass("disabled")},RecruitCandidateLoginView.prototype.enableButton=function(cssClass){return this.$("button."+cssClass).attr("disabled",!1).removeClass("disabled")},RecruitCandidateLoginView.prototype.loginToFB=function(){return window.location=this.model.get("facebook_login_url")},RecruitCandidateLoginView.prototype.dullFeedbackCTA=function(){return this.$("button.test-submit-feedback").removeClass("btn-primary")},RecruitCandidateLoginView.prototype.liveFeedbackCTA=function(){return this.$("button.test-submit-feedback").addClass("btn-primary")},RecruitCandidateLoginView}(window.HR.GenericView),HR=null!=(ref=window.HR)?ref:{},HR.RecruitCandidateLoginView=RecruitCandidateLoginView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitFacebookResumeView,ref;return RecruitFacebookResumeView=function(superClass){function RecruitFacebookResumeView(){return RecruitFacebookResumeView.__super__.constructor.apply(this,arguments)}return extend(RecruitFacebookResumeView,superClass),RecruitFacebookResumeView.prototype.template="recruit/fbresume",RecruitFacebookResumeView.prototype.className="candidate-fb",RecruitFacebookResumeView.prototype.events={"click .starttest":"startTest"},RecruitFacebookResumeView.prototype.initialize=function(options){return this.model=options.model,this.data=JSON.parse(this.model.get("fb_profile"))},RecruitFacebookResumeView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({test:this.model.attributes,data:this.data})),this},RecruitFacebookResumeView.prototype.startTest=function(){var p,req_params;return p=this.$(".userprofile").val(),p?(req_params={type:"put",url:"/recruit/tests/"+this.model.get("unique_id")+"/fb_login",data:{profile:p},success:function(_this){return function(){return HR.router.navigate(_this.model.get("unique_id")+"/questions",{trigger:!0,replace:!0})}}(this),error:function(_this){return function(e){return window.candidatemessage=JSON.parse(e.responseText).message,HR.router.navigate(_this.model.get("unique_id")+"/message",{trigger:!0,replace:!0})}}(this)},$.ajax(req_params)):new HR.util.ShowConfirmationDialog({body:"Please enter a short profile about yourself.",title:"Empty profile.",buttons:[{name:"OK",callback:function(dialog){return dialog.destroy()}}]}).render()},RecruitFacebookResumeView}(window.HR.GenericView),HR=null!=(ref=window.HR)?ref:{},HR.RecruitFacebookResumeView=RecruitFacebookResumeView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var FeedbackDoneView,HR,ref;return FeedbackDoneView=function(superClass){function FeedbackDoneView(){return FeedbackDoneView.__super__.constructor.apply(this,arguments)}return extend(FeedbackDoneView,superClass),FeedbackDoneView.prototype.template="recruit/feedback-done",FeedbackDoneView.prototype.events={"click a.logout-hackerrank":"logoutHackerRank","click a.practise-hackerrank":"practiseAtHackerRank"},FeedbackDoneView.prototype._render=function(){var content;return content=HR.appController.template(this.template,this),$(this.el).html(content),this},FeedbackDoneView.prototype.logoutHackerRank=function(e){return e.preventDefault(),$.ajax({url:"/recruit/attempts/"+HR.candidate.candidateTestModel.get("attempt")+"/logout",type:"DELETE",success:function(_this){return function(){return _this.logoutTest(),$.ajax({url:"/auth/logout",type:"DELETE",success:function(response){return response.status?(HR.hackerProfile=new HR.Profile,window.location.href="/?utm_source=hrw&utm_medium=feedbackpage&utm_campaign=product"):void 0}})}}(this)})},FeedbackDoneView.prototype.practiseAtHackerRank=function(e){return e.preventDefault(),$.ajax({url:"/recruit/attempts/"+HR.candidate.candidateTestModel.get("attempt")+"/logout",type:"DELETE",success:function(_this){return function(){return _this.logoutTest(),window.location.href="/?utm_source=hrw&utm_medium=feedbackpage&utm_campaign=product"}}(this)})},FeedbackDoneView.prototype.logoutTest=function(){var report_html;return $.removeCookie("email",{path:"/"}),$.removeCookie("tid",{path:"/"}),report_html=HR.getReportHtml(),HR.logoutAttempt(),window.candidate={},$.jStorage.set("feedback_skipped_"+HR.candidate.candidateTestModel.get("attempt"),void 0)},FeedbackDoneView}(window.HR.GenericView),HR=null!=(ref=window.HR)?ref:{},HR.FeedbackDoneView=FeedbackDoneView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitInfoView,ref;return RecruitInfoView=function(superClass){function RecruitInfoView(){return RecruitInfoView.__super__.constructor.apply(this,arguments)}return extend(RecruitInfoView,superClass),RecruitInfoView.prototype.template="recruit/instructiontabs",RecruitInfoView.prototype.className="ins-tabs",RecruitInfoView.prototype.initialize=function(options){return this.subpage=options.subpage,this.public_url=options.public_url,this.hide_tabs=options.hide_tabs,this.in_modal=!1||options.in_modal,this.scroll_to=options.scroll_to,this.test=options.test?options.test:HR.candidate.candidateTestModel},RecruitInfoView.prototype.events={"click .js-tablink":"tabClick","click .js-anchor":"anchorClick","click .js-gototop":"gotoTop"},RecruitInfoView.prototype.gotoTop=function(e){return e.preventDefault(),$("html, body").animate({scrollTop:0},"slow")},RecruitInfoView.prototype.anchorClick=function(e){var sect;return e.preventDefault(),sect=this.$(e.currentTarget).attr("name"),console.log(sect,"a[name="+sect+"]"),this.$("a[name="+sect+"]")[1].scrollIntoView()},RecruitInfoView.prototype.tabClick=function(e){var ele,href,tabid;
return e.preventDefault(),ele=this.$(e.currentTarget),tabid=ele.attr("id"),href=ele.attr("href"),ele.parent().parent().find("li").removeClass("active"),this.$("li#"+tabid).addClass("active"),this.$(".js-content").addClass("hidden"),this.$(".js-content-"+tabid).removeClass("hidden"),this.public_url?HR.router.navigate(href,{replace:!0,trigger:!1}):void 0},RecruitInfoView.prototype.render=function(){var languageenvironmentview;return $(this.el).html(HR.appController.template(this.template,this)({subpage:this.subpage,public_url:this.public_url,test:this.test,in_modal:this.in_modal,hide_tabs:this.hide_tabs})),languageenvironmentview=new HR.LanguageEnvironmentCollectionView({showml:!1}),this.add_subview(languageenvironmentview),this.assign({"#languages":languageenvironmentview}),setTimeout(function(_this){return function(){return _this.scrollToSelector(scrollTo)}}(this),1),this},RecruitInfoView.prototype.scrollToSelector=function(){var container,scrollTo;return this.scroll_to&&this.in_modal&&(container=$(".modal-body"),scrollTo=this.$(this.scroll_to),container.length>0&&scrollTo.length>0)?container.scrollTop(scrollTo.offset().top-container.offset().top+container.scrollTop()):void 0},RecruitInfoView}(window.HR.GenericView),HR=null!=(ref=window.HR)?ref:{},HR.RecruitInfoView=RecruitInfoView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitMessageView,ref;return RecruitMessageView=function(superClass){function RecruitMessageView(){return RecruitMessageView.__super__.constructor.apply(this,arguments)}return extend(RecruitMessageView,superClass),RecruitMessageView.prototype.template="recruit/candidatemessage",RecruitMessageView.prototype.className="candidate-message",RecruitMessageView.prototype.initialize=function(options){return this.model=options.model,this.message=options.message,this.title=options.title||"Message"},RecruitMessageView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({test:this.model&&this.model.attributes||{name:this.title},message:this.message})),this},RecruitMessageView}(window.HR.GenericView),HR=null!=(ref=window.HR)?ref:{},HR.RecruitMessageView=RecruitMessageView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,RecruitMismatchView,ref;return RecruitMismatchView=function(superClass){function RecruitMismatchView(){return RecruitMismatchView.__super__.constructor.apply(this,arguments)}return extend(RecruitMismatchView,superClass),RecruitMismatchView.prototype.template="recruit/candidatemismatch",RecruitMismatchView.prototype.className="candidate-mismatch",RecruitMismatchView.prototype.events={"click .js-gotoother":"logoutGotoOther"},RecruitMismatchView.prototype.logoutGotoOther=function(e){return e.preventDefault(),HR.logoutAttempt(),HR.candidate.candidateTestModel=null,HR.candidate.candidateAttemptModel=null,HR.candidate.attemptRefreshNeeded=!1,HR.router.navigate(this.$(e.currentTarget).attr("href"),{trigger:!0,replace:!0})},RecruitMismatchView.prototype.render=function(){return $(this.el).html(HR.appController.template(this.template,this)({test:HR.candidate.candidateTestModel.toJSON()})),this},RecruitMismatchView}(window.HR.GenericView),HR=null!=(ref=window.HR)?ref:{},HR.RecruitMismatchView=RecruitMismatchView})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var CandidateActivityModel,CandidateAttemptModel,CandidateCompileTestModel,CandidateDesignTestModel,CandidateQuestionModel,CandidateSolveModel,CandidateTestModel,HR,ref;return CandidateTestModel=function(superClass){function CandidateTestModel(){return CandidateTestModel.__super__.constructor.apply(this,arguments)}return extend(CandidateTestModel,superClass),CandidateTestModel.prototype.idAttribute="unique_id",CandidateTestModel.prototype.initialize=function(attributes,options){return null==attributes&&(attributes={}),null==options&&(options={}),this.setCaching(!1),CandidateTestModel.__super__.initialize.call(this,attributes,options)},CandidateTestModel.prototype.setTidAuth=function(tid,auth){this.tid=tid,this.auth=auth},CandidateTestModel.prototype.setAction=function(action){this.action=null!=action?action:"show"},CandidateTestModel.prototype.url=function(){switch(this.action){case"login":return"/recruit/tests/"+this.tid+"/login?tauth_key="+this.auth;case"show":return"/recruit/tests/"+this.tid+"?tauth_key="+this.auth;case"logout":return"/recruit/tests/"+this.tid+"/logout";case"index":return"/recruit/tests"}},CandidateTestModel}(window.HR.GenericModel),CandidateAttemptModel=function(superClass){function CandidateAttemptModel(){return CandidateAttemptModel.__super__.constructor.apply(this,arguments)}return extend(CandidateAttemptModel,superClass),CandidateAttemptModel.prototype.initialize=function(attributes,options){return null==attributes&&(attributes={}),null==options&&(options={}),this.setCaching(!1),CandidateAttemptModel.__super__.initialize.call(this,attributes,options)},CandidateAttemptModel.prototype.setAid=function(aid){return this.aid=aid},CandidateAttemptModel.prototype.url=function(){var id;return id=this.aid?this.aid:this.get("id"),"/recruit/attempts/"+id},CandidateAttemptModel}(window.HR.GenericModel),CandidateQuestionModel=function(superClass){function CandidateQuestionModel(){return CandidateQuestionModel.__super__.constructor.apply(this,arguments)}return extend(CandidateQuestionModel,superClass),CandidateQuestionModel.prototype.idAttribute="unique_id",CandidateQuestionModel.prototype.initialize=function(attributes,options){return null==attributes&&(attributes={}),null==options&&(options={}),this.setCaching(!1),CandidateQuestionModel.__super__.initialize.call(this,attributes,options)},CandidateQuestionModel.prototype.setAid=function(aid1){this.aid=aid1},CandidateQuestionModel.prototype.setQid=function(qid){this.qid=qid},CandidateQuestionModel.prototype.url=function(){return"/recruit/attempts/"+this.aid+"/questions/"+this.qid},CandidateQuestionModel}(window.HR.GenericModel),CandidateSolveModel=function(superClass){function CandidateSolveModel(){return CandidateSolveModel.__super__.constructor.apply(this,arguments)}return extend(CandidateSolveModel,superClass),CandidateSolveModel.prototype.initialize=function(attributes,options){return null==attributes&&(attributes={}),null==options&&(options={}),this.setCaching(!1),CandidateSolveModel.__super__.initialize.call(this,attributes,options)},CandidateSolveModel.prototype.setAttempt=function(aid1){this.aid=aid1},CandidateSolveModel.prototype.url=function(){return"/recruit/attempts/"+this.aid+"/solves/"},CandidateSolveModel}(window.HR.GenericModel),CandidateCompileTestModel=function(superClass){function CandidateCompileTestModel(){return CandidateCompileTestModel.__super__.constructor.apply(this,arguments)}return extend(CandidateCompileTestModel,superClass),CandidateCompileTestModel.prototype.initialize=function(attributes,options){return null==attributes&&(attributes={}),null==options&&(options={}),this.setCaching(!1),CandidateCompileTestModel.__super__.initialize.call(this,attributes,options)},CandidateCompileTestModel.prototype.setAid=function(aid1){this.aid=aid1},CandidateCompileTestModel.prototype.setQid=function(qid){this.qid=qid},CandidateCompileTestModel.prototype.setAllCases=function(allcases){this.allcases=allcases},CandidateCompileTestModel.prototype.url=function(){return this.id?"/recruit/attempts/"+this.aid+"/questions/"+this.qid+"/compile_tests/"+this.id:this.allcases?"/recruit/attempts/"+this.aid+"/questions/"+this.qid+"/compile_tests?allcases="+this.allcases:"/recruit/attempts/"+this.aid+"/questions/"+this.qid+"/compile_tests"},CandidateCompileTestModel}(window.HR.GenericModel),CandidateDesignTestModel=function(superClass){function CandidateDesignTestModel(){return CandidateDesignTestModel.__super__.constructor.apply(this,arguments)}return extend(CandidateDesignTestModel,superClass),CandidateDesignTestModel.prototype.initialize=function(attributes,options){return null==attributes&&(attributes={}),null==options&&(options={}),this.setCaching(!1),CandidateDesignTestModel.__super__.initialize.call(this,attributes,options)},CandidateDesignTestModel.prototype.setAid=function(aid1){this.aid=aid1},CandidateDesignTestModel.prototype.setQid=function(qid){this.qid=qid},CandidateDesignTestModel.prototype.url=function(){return"/recruit/attempts/"+this.aid+"/questions/"+this.qid+"/render"},CandidateDesignTestModel}(window.HR.GenericModel),CandidateActivityModel=function(superClass){function CandidateActivityModel(){return CandidateActivityModel.__super__.constructor.apply(this,arguments)}return extend(CandidateActivityModel,superClass),CandidateActivityModel.prototype.initialize=function(attributes,options){return null==attributes&&(attributes={}),null==options&&(options={}),this.setCaching(!1),CandidateActivityModel.__super__.initialize.call(this,attributes,options)},CandidateActivityModel.prototype.setAid=function(aid1){this.aid=aid1},CandidateActivityModel.prototype.url=function(){return"/recruit/attempts/"+this.aid+"/logActivity"},CandidateActivityModel}(window.HR.GenericModel),HR=null!=(ref=window.HR)?ref:{},HR.CandidateTestModel=CandidateTestModel,HR.CandidateAttemptModel=CandidateAttemptModel,HR.CandidateSolveModel=CandidateSolveModel,HR.CandidateQuestionModel=CandidateQuestionModel,HR.CandidateCompileTestModel=CandidateCompileTestModel,HR.CandidateDesignTestModel=CandidateDesignTestModel,HR.CandidateActivityModel=CandidateActivityModel})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var CompanyModel,HR,ref;return CompanyModel=function(superClass){function CompanyModel(){return CompanyModel.__super__.constructor.apply(this,arguments)}return extend(CompanyModel,superClass),CompanyModel.prototype.url=function(){return"/recruit/companies/"+this.testHash+"?attempt_id="+this.attemptId},CompanyModel.prototype.setTestHash=function(testHash){return this.testHash=testHash},CompanyModel.prototype.setAttemptId=function(attemptId){return this.attemptId=attemptId},CompanyModel}(window.HR.GenericModel),HR=null!=(ref=window.HR)?ref:{},HR.CompanyModel=CompanyModel})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var HR,ProfileModel,ref;return ProfileModel=function(superClass){function ProfileModel(){return ProfileModel.__super__.constructor.apply(this,arguments)}return extend(ProfileModel,superClass),ProfileModel.prototype.url=function(){return this.action?"find_by_email"===this.action?"/recruit/hackers/find?email="+encodeURIComponent(this.get("email")):void 0:"/rest/hackers/me"},ProfileModel.prototype.emails=function(){return this.get("id")?[this.get("email")]+this.get("secondary_emails"):[]},ProfileModel.prototype.setAction=function(action){return this.action=action},ProfileModel}(window.HR.GenericModel),HR=null!=(ref=window.HR)?ref:{},HR.Profile=ProfileModel})}.call(this),function(){var extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;jQuery(function(){var CandidateActivityCollection,HR,ref;return CandidateActivityCollection=function(superClass){function CandidateActivityCollection(){return CandidateActivityCollection.__super__.constructor.apply(this,arguments)}return extend(CandidateActivityCollection,superClass),CandidateActivityCollection.prototype.model=window.HR.CandidateActivityModel,CandidateActivityCollection.prototype.initialize=function(){return this.limit||(this.limit=10),this.page=1,this.total=0,this.on("add",this.pushEvent,this)},CandidateActivityCollection.prototype.setAid=function(aid){this.aid=aid},CandidateActivityCollection.prototype.pushEvent=function(model){return model.setAid(this.aid),model.save()},CandidateActivityCollection.prototype.baseURL=function(){return""},CandidateActivityCollection.prototype.restURL=function(){return""+this.baseURL()},CandidateActivityCollection.prototype.getCurrentPage=function(){return this.page},CandidateActivityCollection.prototype.setPage=function(page){this.page=page},CandidateActivityCollection.prototype.getTotal=function(){return this.total},CandidateActivityCollection.prototype.parse=function(resp,xhr){return this.total=resp.total,CandidateActivityCollection.__super__.parse.call(this,resp,xhr)},CandidateActivityCollection}(window.HR.GenericCollection),HR=null!=(ref=window.HR)?ref:{},HR.CandidateActivityCollection=CandidateActivityCollection})}.call(this),$(function(){$.fn.bootstrapFileInput=function(){this.each(function(i,elem){var $elem=$(elem);if("undefined"==typeof $elem.attr("data-bfi-disabled")){var buttonWord="Browse";"undefined"!=typeof $elem.attr("title")&&(buttonWord=$elem.attr("title"));var input=$("<div>").append($elem.eq(0).clone()).html(),className="";$elem.attr("class")&&(className=" "+$elem.attr("class")),$elem.replaceWith('<a class="file-input-wrapper btn'+className+'">'+buttonWord+input+"</a>")}}).promise().done(function(){$(".file-input-wrapper").mousemove(function(cursor){var input,wrapper,wrapperX,wrapperY,inputWidth,inputHeight,cursorX,cursorY;wrapper=$(this),input=wrapper.find("input"),wrapperX=wrapper.offset().left,wrapperY=wrapper.offset().top,inputWidth=input.width(),inputHeight=input.height(),cursorX=cursor.pageX,cursorY=cursor.pageY,moveInputX=cursorX-wrapperX-inputWidth+20,moveInputY=cursorY-wrapperY-inputHeight/2,input.css({left:moveInputX,top:moveInputY})}),$(".file-input-wrapper input[type=file]").change(function(){var fileName;fileName=$(this).val(),$(this).parent().next(".file-input-name").remove(),fileName=$(this).prop("files")&&$(this).prop("files").length>1?$(this)[0].files.length+" files":fileName.substring(fileName.lastIndexOf("\\")+1,fileName.length),$(this).parent().after('<span class="file-input-name">'+fileName+"</span>")})})};var cssHtml="<style>.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }.file-input-name { margin-left: 8px; }</style>";$("link[rel=stylesheet]").eq(0).before(cssHtml)});